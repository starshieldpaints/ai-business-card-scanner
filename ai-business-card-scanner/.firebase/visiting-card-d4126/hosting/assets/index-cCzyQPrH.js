(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function tv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vf={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function _T(){if(fy)return Kl;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var dy;function vT(){return dy||(dy=1,Vf.exports=_T()),Vf.exports}var Z=vT(),xf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function ET(){if(my)return Ct;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,it={};function tt(D,$,st){this.props=D,this.context=$,this.refs=it,this.updater=st||k}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=tt.prototype;function dt(D,$,st){this.props=D,this.context=$,this.refs=it,this.updater=st||k}var mt=dt.prototype=new Dt;mt.constructor=dt,X(mt,tt.prototype),mt.isPureReactComponent=!0;var Mt=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function V(D,$,st,W,gt,wt){return st=wt.ref,{$$typeof:r,type:D,key:$,ref:st!==void 0?st:null,props:wt}}function b(D,$){return V(D.type,$,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return $[st]})}var x=/\/+/g;function U(D,$){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):$.toString(36)}function R(){}function de(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Qt(D,$,st,W,gt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case e:Et=!0;break;case A:return Et=D._init,Qt(Et(D._payload),$,st,W,gt)}}if(Et)return gt=gt(D),Et=W===""?"."+U(D,0):W,Mt(gt)?(st="",Et!=null&&(st=Et.replace(x,"$&/")+"/"),Qt(gt,$,st,"",function(An){return An})):gt!=null&&(w(gt)&&(gt=b(gt,st+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(x,"$&/")+"/")+Et)),$.push(gt)),1;Et=0;var be=W===""?".":W+":";if(Mt(D))for(var $t=0;$t<D.length;$t++)W=D[$t],wt=be+U(W,$t),Et+=Qt(W,$,st,wt,gt);else if($t=C(D),typeof $t=="function")for(D=$t.call(D),$t=0;!(W=D.next()).done;)W=W.value,wt=be+U(W,$t++),Et+=Qt(W,$,st,wt,gt);else if(wt==="object"){if(typeof D.then=="function")return Qt(de(D),$,st,W,gt);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(D,$,st){if(D==null)return D;var W=[],gt=0;return Qt(D,W,"","",function(wt){return $.call(st,wt,gt++)}),W}function nt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Gt(){}return Ct.Children={map:H,forEach:function(D,$,st){H(D,function(){$.apply(this,arguments)},st)},count:function(D){var $=0;return H(D,function(){$++}),$},toArray:function(D){return H(D,function($){return $})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ct.Component=tt,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=dt,Ct.StrictMode=a,Ct.Suspense=_,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(D){return At.H.useMemoCache(D)}},Ct.cache=function(D){return function(){return D.apply(null,arguments)}},Ct.cloneElement=function(D,$,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=X({},D.props),gt=D.key,wt=void 0;if($!=null)for(Et in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(gt=""+$.key),$)!zt.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(W[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)W.children=st;else if(1<Et){for(var be=Array(Et),$t=0;$t<Et;$t++)be[$t]=arguments[$t+2];W.children=be}return V(D.type,gt,void 0,void 0,wt,W)},Ct.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Ct.createElement=function(D,$,st){var W,gt={},wt=null;if($!=null)for(W in $.key!==void 0&&(wt=""+$.key),$)zt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(gt[W]=$[W]);var Et=arguments.length-2;if(Et===1)gt.children=st;else if(1<Et){for(var be=Array(Et),$t=0;$t<Et;$t++)be[$t]=arguments[$t+2];gt.children=be}if(D&&D.defaultProps)for(W in Et=D.defaultProps,Et)gt[W]===void 0&&(gt[W]=Et[W]);return V(D,wt,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(D){return{$$typeof:g,render:D}},Ct.isValidElement=w,Ct.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:nt}},Ct.memo=function(D,$){return{$$typeof:v,type:D,compare:$===void 0?null:$}},Ct.startTransition=function(D){var $=At.T,st={};At.T=st;try{var W=D(),gt=At.S;gt!==null&&gt(st,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Gt,ct)}catch(wt){ct(wt)}finally{At.T=$}},Ct.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()},Ct.use=function(D){return At.H.use(D)},Ct.useActionState=function(D,$,st){return At.H.useActionState(D,$,st)},Ct.useCallback=function(D,$){return At.H.useCallback(D,$)},Ct.useContext=function(D){return At.H.useContext(D)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(D,$){return At.H.useDeferredValue(D,$)},Ct.useEffect=function(D,$,st){var W=At.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,$)},Ct.useId=function(){return At.H.useId()},Ct.useImperativeHandle=function(D,$,st){return At.H.useImperativeHandle(D,$,st)},Ct.useInsertionEffect=function(D,$){return At.H.useInsertionEffect(D,$)},Ct.useLayoutEffect=function(D,$){return At.H.useLayoutEffect(D,$)},Ct.useMemo=function(D,$){return At.H.useMemo(D,$)},Ct.useOptimistic=function(D,$){return At.H.useOptimistic(D,$)},Ct.useReducer=function(D,$,st){return At.H.useReducer(D,$,st)},Ct.useRef=function(D){return At.H.useRef(D)},Ct.useState=function(D){return At.H.useState(D)},Ct.useSyncExternalStore=function(D,$,st){return At.H.useSyncExternalStore(D,$,st)},Ct.useTransition=function(){return At.H.useTransition()},Ct.version="19.1.0",Ct}var gy;function pd(){return gy||(gy=1,xf.exports=ET()),xf.exports}var fe=pd();const TT=tv(fe);var Mf={exports:{}},Xl={},Uf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function AT(){return py||(py=1,function(r){function e(H,nt){var ct=H.length;H.push(nt);t:for(;0<ct;){var Gt=ct-1>>>1,D=H[Gt];if(0<o(D,nt))H[Gt]=nt,H[ct]=D,ct=Gt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ct=H.pop();if(ct!==nt){H[0]=ct;t:for(var Gt=0,D=H.length,$=D>>>1;Gt<$;){var st=2*(Gt+1)-1,W=H[st],gt=st+1,wt=H[gt];if(0>o(W,ct))gt<D&&0>o(wt,W)?(H[Gt]=wt,H[gt]=ct,Gt=gt):(H[Gt]=W,H[st]=ct,Gt=st);else if(gt<D&&0>o(wt,ct))H[Gt]=wt,H[gt]=ct,Gt=gt;else break t}}return nt}function o(H,nt){var ct=H.sortIndex-nt.sortIndex;return ct!==0?ct:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,C=3,k=!1,X=!1,it=!1,tt=!1,Dt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Mt(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=H)a(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function At(H){if(it=!1,Mt(H),!X)if(i(_)!==null)X=!0,zt||(zt=!0,U());else{var nt=i(v);nt!==null&&Qt(At,nt.startTime-H)}}var zt=!1,V=-1,b=5,w=-1;function O(){return tt?!0:!(r.unstable_now()-w<b)}function x(){if(tt=!1,zt){var H=r.unstable_now();w=H;var nt=!0;try{t:{X=!1,it&&(it=!1,dt(V),V=-1),k=!0;var ct=C;try{e:{for(Mt(H),I=i(_);I!==null&&!(I.expirationTime>H&&O());){var Gt=I.callback;if(typeof Gt=="function"){I.callback=null,C=I.priorityLevel;var D=Gt(I.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){I.callback=D,Mt(H),nt=!0;break e}I===i(_)&&a(_),Mt(H)}else a(_);I=i(_)}if(I!==null)nt=!0;else{var $=i(v);$!==null&&Qt(At,$.startTime-H),nt=!1}}break t}finally{I=null,C=ct,k=!1}nt=void 0}}finally{nt?U():zt=!1}}}var U;if(typeof mt=="function")U=function(){mt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,de=R.port2;R.port1.onmessage=x,U=function(){de.postMessage(null)}}else U=function(){Dt(x,0)};function Qt(H,nt){V=Dt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(H){switch(C){case 1:case 2:case 3:var nt=3;break;default:nt=C}var ct=C;C=nt;try{return H()}finally{C=ct}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=C;C=H;try{return nt()}finally{C=ct}},r.unstable_scheduleCallback=function(H,nt,ct){var Gt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Gt+ct:Gt):ct=Gt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,H={id:A++,callback:nt,priorityLevel:H,startTime:ct,expirationTime:D,sortIndex:-1},ct>Gt?(H.sortIndex=ct,e(v,H),i(_)===null&&H===i(v)&&(it?(dt(V),V=-1):it=!0,Qt(At,ct-Gt))):(H.sortIndex=D,e(_,H),X||k||(X=!0,zt||(zt=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var nt=C;return function(){var ct=C;C=nt;try{return H.apply(this,arguments)}finally{C=ct}}}}(Lf)),Lf}var yy;function bT(){return yy||(yy=1,Uf.exports=AT()),Uf.exports}var Pf={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function ST(){if(_y)return tn;_y=1;var r=pd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},tn.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},tn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:k}):A==="script"&&a.d.X(_,{crossOrigin:I,integrity:C,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},tn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},tn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},tn.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,v){return _(v)},tn.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var vy;function RT(){if(vy)return Pf.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pf.exports=ST(),Pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function wT(){if(Ey)return Xl;Ey=1;var r=bT(),e=pd(),i=RT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case tt:return"Profiler";case it:return"StrictMode";case At:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:de(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return de(t(n))}catch{}}return null}var Qt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Gt=[],D=-1;function $(t){return{current:t}}function st(t){0>D||(t.current=Gt[D],Gt[D]=null,D--)}function W(t,n){D++,Gt[D]=t.current,t.current=n}var gt=$(null),wt=$(null),Et=$(null),be=$(null);function $t(t,n){switch(W(Et,n),W(wt,t),W(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(gt),W(gt,t)}function An(){st(gt),st(wt),st(Et)}function Qn(t){t.memoizedState!==null&&W(be,t);var n=gt.current,s=kp(n,t.type);n!==s&&(W(wt,t),W(gt,s))}function zn(t){wt.current===t&&(st(gt),st(wt)),be.current===t&&(st(be),Hl._currentValue=ct)}var _i=Object.prototype.hasOwnProperty,vi=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Zi=r.unstable_shouldYield,Nr=r.unstable_requestPaint,Ge=r.unstable_now,qs=r.unstable_getCurrentPriorityLevel,J=r.unstable_ImmediatePriority,rt=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,It=r.unstable_LowPriority,Nt=r.unstable_IdlePriority,se=r.log,oe=r.unstable_setDisableYieldValue,Rt=null,ft=null;function re(t){if(typeof se=="function"&&oe(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Rt,t)}catch{}}var me=Math.clz32?Math.clz32:Ti,Kn=Math.log,bn=Math.LN2;function Ti(t){return t>>>=0,t===0?32:31-(Kn(t)/bn|0)|0}var Ai=256,Hs=4194304;function Bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Or(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Bn(l):(y&=E,y!==0?c=Bn(y):s||(s=E&~t,s!==0&&(c=Bn(s))))):(E=l&~f,E!==0?c=Bn(E):y!==0?c=Bn(y):s||(s=l&~t,s!==0&&(c=Bn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Gs(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ha(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ga(){var t=Ai;return Ai<<=1,(Ai&4194048)===0&&(Ai=256),t}function Fa(){var t=Hs;return Hs<<=1,(Hs&62914560)===0&&(Hs=4194304),t}function bi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ya(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var G=31-me(s),Q=1<<G;E[G]=0,S[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}s&=~Q}l!==0&&Xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Xn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Qa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-me(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:ay(t.type))}function Ro(t,n){var s=nt.p;try{return nt.p=t,n()}finally{nt.p=s}}var ce=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ce,Se="__reactProps$"+ce,Sn="__reactContainer$"+ce,Ka="__reactEvents$"+ce,Mc="__reactListeners$"+ce,ts="__reactHandles$"+ce,wo="__reactResources$"+ce,Fs="__reactMarker$"+ce;function es(t){delete t[Oe],delete t[Se],delete t[Ka],delete t[Mc],delete t[ts]}function Ri(t){var n=t[Oe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Sn]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Fp(t);t!==null;){if(s=t[Oe])return s;t=Fp(t)}return n}t=s,s=t.parentNode}return null}function $n(t){if(t=t[Oe]||t[Sn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function an(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[Fs]=!0}var Xa=new Set,xr={};function jn(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(xr[t]=n,t=0;t<n.length;t++)Xa.add(n[t])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Ys={};function Io(t){return _i.call(Ys,t)?!0:_i.call(Do,t)?!1:Co.test(t)?Ys[t]=!0:(Do[t]=!0,!1)}function ns(t,n,s){if(Io(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Jn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Fe(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Qs,No;function Ci(t){if(Qs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",No=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+t+No}var Mr=!1;function Ur(t,n){if(!t||Mr)return"";Mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var B=j}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(j){B=j}t.call(Q.prototype)}}else{try{throw Error()}catch(j){B=j}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),z=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===z.length)for(l=S.length-1,c=z.length-1;1<=l&&0<=c&&S[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==z[c]){var G=`
`+S[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Mr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ci(s):""}function $a(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ur(t.type,!1);case 11:return Ur(t.type.render,!1);case 1:return Ur(t.type,!0);case 31:return Ci("Activity");default:return""}}function Lr(t){try{var n="";do n+=$a(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Za(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uc(t){var n=Za(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pr(t){t._valueTracker||(t._valueTracker=Uc(t))}function Ja(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Za(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lc=/[\n"\\]/g;function Re(t){return t.replace(Lc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ln(n)):t.value!==""+ln(n)&&(t.value=""+ln(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?is(t,y,ln(n)):s!=null?is(t,y,ln(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ln(E):t.removeAttribute("name")}function Xs(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ln(s):"",n=n!=null?""+ln(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function is(t,n,s){n==="number"&&Ks(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Di(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ln(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Wt(t,n,s){if(n!=null&&(n=""+ln(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ln(s):""}function $s(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Qt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ln(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Rn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Zs.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Wa(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Oo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Oi=null;function el(t){var n=$n(t);if(n&&(t=n.stateNode)){var s=t[Se]||null;t:switch(t=n.stateNode,n.type){case"input":if(mn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Re(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Se]||null;if(!c)throw Error(a(90));mn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ja(l)}break t;case"textarea":Wt(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Di(t,!!s.multiple,n,!1)}}}var Wn=!1;function Vo(t,n,s){if(Wn)return t(n,s);Wn=!0;try{var l=t(n);return l}finally{if(Wn=!1,(Ni!==null||Oi!==null)&&(Ru(),Ni&&(n=Ni,t=Oi,Oi=Ni=null,el(n),t)))for(n=0;n<t.length;n++)el(t[n])}}function Js(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Se]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(kn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Cn=!1}var ti=null,ss=null,Vi=null;function nl(){if(Vi)return Vi;var t,n=ss,s=n.length,l,c="value"in ti?ti.value:ti.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return Vi=c.slice(t,1<l?1-l:void 0)}function ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function il(){return!1}function Pe(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ni:il,this.isPropagationStopped=il,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),n}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=Pe(Kt),tr=A({},Kt,{view:0,detail:0}),xo=Pe(tr),jr,kr,ii,er=A({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(jr=t.screenX-ii.screenX,kr=t.screenY-ii.screenY):kr=jr=0,ii=t),jr)},movementY:function(t){return"movementY"in t?t.movementY:kr}}),Dn=Pe(er),Mo=A({},er,{dataTransfer:0}),Bc=Pe(Mo),nr=A({},tr,{relatedTarget:0}),qr=Pe(nr),sl=A({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Pe(sl),Uo=A({},Kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gr=Pe(Uo),jc=A({},Kt,{data:0}),rl=Pe(jc),ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function sr(){return al}var zo=A({},tr,{key:function(t){if(t.key){var n=ir[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fr=Pe(zo),Bo=A({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Pe(Bo),xi=A({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),jo=Pe(xi),ko=A({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Pe(ko),Ho=A({},er,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yr=Pe(Ho),on=A({},Kt,{newState:0,oldState:0}),Go=Pe(on),Fo=[9,13,27,32],si=kn&&"CompositionEvent"in window,u=null;kn&&"documentMode"in document&&(u=document.documentMode);var m=kn&&"TextEvent"in window&&!u,p=kn&&(!si||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Fo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bt=!1;function Ve(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function jt(t,n){if(Bt)return t==="compositionend"||!si&&q(t,n)?(t=nl(),Vi=ss=ti=null,Bt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ze[t.type]:n==="textarea"}function Mi(t,n,s,l){Ni?Oi?Oi.push(l):Oi=[l]:Ni=l,n=Ou(n,"onChange"),0<n.length&&(s=new Br("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ye=null,ri=null;function ol(t){Up(t,0)}function Yo(t){var n=Zn(t);if(Ja(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(kn){var kc;if(kn){var qc="oninput"in document;if(!qc){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),qc=typeof sm.oninput=="function"}kc=qc}else kc=!1;im=kc&&(!document.documentMode||9<document.documentMode)}function rm(){Ye&&(Ye.detachEvent("onpropertychange",am),ri=Ye=null)}function am(t){if(t.propertyName==="value"&&Yo(ri)){var n=[];Mi(n,ri,t,wn(t)),Vo(ol,n)}}function K0(t,n,s){t==="focusin"?(rm(),Ye=n,ri=s,Ye.attachEvent("onpropertychange",am)):t==="focusout"&&rm()}function X0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(ri)}function $0(t,n){if(t==="click")return Yo(n)}function Z0(t,n){if(t==="input"||t==="change")return Yo(n)}function J0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:J0;function ul(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!_i.call(n,c)||!gn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var s=lm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=lm(s)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ks(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ks(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var W0=kn&&"documentMode"in document&&11>=document.documentMode,Qr=null,Gc=null,cl=null,Fc=!1;function hm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fc||Qr==null||Qr!==Ks(l)||(l=Qr,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Ou(Gc,"onSelect"),0<l.length&&(n=new Br("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Qr)))}function rr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Kr={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},Yc={},fm={};kn&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function ar(t){if(Yc[t])return Yc[t];if(!Kr[t])return t;var n=Kr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in fm)return Yc[t]=n[s];return t}var dm=ar("animationend"),mm=ar("animationiteration"),gm=ar("animationstart"),tE=ar("transitionrun"),eE=ar("transitionstart"),nE=ar("transitioncancel"),pm=ar("transitionend"),ym=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function qn(t,n){ym.set(t,n),jn(n,[t])}var _m=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=_m.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Lr(n)},_m.set(t,n),n)}return{value:t,source:n,stack:Lr(n)}}var Nn=[],Xr=0,Kc=0;function Qo(){for(var t=Xr,n=Kc=Xr=0;n<t;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&vm(s,c,f)}}function Ko(t,n,s,l){Nn[Xr++]=t,Nn[Xr++]=n,Nn[Xr++]=s,Nn[Xr++]=l,Kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xc(t,n,s,l){return Ko(t,n,s,l),Xo(t)}function $r(t,n){return Ko(t,null,null,n),Xo(t)}function vm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-me(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Xo(t){if(50<Ul)throw Ul=0,ef=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zr={};function iE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,l){return new iE(t,n,s,l)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Em(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $o(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")$c(t)&&(y=1);else if(typeof t=="string")y=rT(t,s,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=pn(31,s,n,c),t.elementType=w,t.lanes=f,t;case X:return lr(s.children,c,f,n);case it:y=8,c|=24;break;case tt:return t=pn(12,s,n,c|2),t.elementType=tt,t.lanes=f,t;case At:return t=pn(13,s,n,c),t.elementType=At,t.lanes=f,t;case zt:return t=pn(19,s,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case mt:y=10;break t;case dt:y=9;break t;case Mt:y=11;break t;case V:y=14;break t;case b:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function lr(t,n,s,l){return t=pn(7,t,l,n),t.lanes=s,t}function Zc(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Jc(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jr=[],Wr=0,Zo=null,Jo=0,On=[],Vn=0,or=null,Li=1,Pi="";function ur(t,n){Jr[Wr++]=Jo,Jr[Wr++]=Zo,Zo=t,Jo=n}function Tm(t,n,s){On[Vn++]=Li,On[Vn++]=Pi,On[Vn++]=or,or=t;var l=Li;t=Pi;var c=32-me(l)-1;l&=~(1<<c),s+=1;var f=32-me(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Li=1<<32-me(n)+c|s<<c|l,Pi=f+t}else Li=1<<f|s<<c|l,Pi=t}function Wc(t){t.return!==null&&(ur(t,1),Tm(t,1,0))}function th(t){for(;t===Zo;)Zo=Jr[--Wr],Jr[Wr]=null,Jo=Jr[--Wr],Jr[Wr]=null;for(;t===or;)or=On[--Vn],On[Vn]=null,Pi=On[--Vn],On[Vn]=null,Li=On[--Vn],On[Vn]=null}var un=null,ye=null,Yt=!1,cr=null,ai=!1,eh=Error(a(519));function hr(t){var n=Error(a(418,""));throw dl(In(n,t)),eh}function Am(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Oe]=t,n[Se]=l,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Lt(Pl[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Xs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pr(n);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),$s(n,l.value,l.defaultValue,l.children),Pr(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Bp(n.textContent,s)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=Vu),n=!0):n=!1,n||hr(t)}function bm(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:un=un.return}}function hl(t){if(t!==un)return!1;if(!Yt)return bm(t),Yt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||_f(t.type,t.memoizedProps)),s=!s),s&&ye&&hr(t),bm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ye=Gn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ye=null}}else n===27?(n=ye,Es(t.type)?(t=Af,Af=null,ye=t):ye=n):ye=un?Gn(t.stateNode.nextSibling):null;return!0}function fl(){ye=un=null,Yt=!1}function Sm(){var t=cr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),cr=null),t}function dl(t){cr===null?cr=[t]:cr.push(t)}var nh=$(null),fr=null,zi=null;function rs(t,n,s){W(nh,n._currentValue),n._currentValue=s}function Bi(t){t._currentValue=nh.current,st(nh)}function ih(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function sh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),ih(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),ih(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ml(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;gn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}c=c.return}t!==null&&sh(n,t,s,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dr(t){fr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return Rm(fr,t)}function tu(t,n){return fr===null&&dr(t),Rm(t,n)}function Rm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(a(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return s}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},rE=r.unstable_scheduleCallback,aE=r.unstable_NormalPriority,Me={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new sE,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&rE(aE,function(){t.controller.abort()})}var pl=null,ah=0,ta=0,ea=null;function lE(t,n){if(pl===null){var s=pl=[];ah=0,ta=uf(),ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ah++,n.then(wm,wm),n}function wm(){if(--ah===0&&pl!==null){ea!==null&&(ea.status="fulfilled");var t=pl;pl=null,ta=0,ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function oE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Cm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&lE(t,n),Cm!==null&&Cm(t,n)};var mr=$(null);function lh(){var t=mr.current;return t!==null?t:ae.pooledCache}function eu(t,n){n===null?W(mr,mr.current):W(mr,n.pool)}function Dm(){var t=lh();return t===null?null:{parent:Me._currentValue,pool:t}}var yl=Error(a(460)),Im=Error(a(474)),nu=Error(a(542)),oh={then:function(){}};function Nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function Om(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(iu,iu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(iu,iu);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw _l=n,yl}}var _l=null;function Vm(){if(_l===null)throw Error(a(459));var t=_l;return _l=null,t}function xm(t){if(t===yl||t===nu)throw Error(a(483))}var as=!1;function uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Xo(t),vm(t,null,s),n}return Ko(t,l,n,s),Xo(t)}function vl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qa(t,s)}}function hh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var fh=!1;function El(){if(fh){var t=ea;if(t!==null)throw t}}function Tl(t,n,s,l){fh=!1;var c=t.updateQueue;as=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,z=S.next;S.next=null,y===null?f=z:y.next=z,y=S;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=S))}if(f!==null){var Q=c.baseState;y=0,G=z=S=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(kt&B)===B:(l&B)===B){B!==0&&B===ta&&(fh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,yt=E;B=n;var ne=s;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Q=Tt.call(ne,Q,B);break t}Q=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,B=typeof Tt=="function"?Tt.call(ne,Q,B):Tt,B==null)break t;Q=A({},Q,B);break t;case 2:as=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=j,S=Q):G=G.next=j,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(S=Q),c.baseState=S,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ps|=y,t.lanes=y,t.memoizedState=Q}}function Mm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Um(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Mm(s[t],n)}var na=$(null),su=$(0);function Lm(t,n){t=Yi,W(su,t),W(na,n),Yi=t|n.baseLanes}function dh(){W(su,Yi),W(na,na.current)}function mh(){Yi=su.current,st(na),st(su)}var us=0,Ot=null,te=null,we=null,ru=!1,ia=!1,gr=!1,au=0,Al=0,sa=null,uE=0;function Ee(){throw Error(a(321))}function gh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!gn(t[s],n[s]))return!1;return!0}function ph(t,n,s,l,c,f){return us=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?vg:Eg,gr=!1,f=s(l,c),gr=!1,ia&&(f=zm(n,s,l,c)),Pm(t),f}function Pm(t){H.H=fu;var n=te!==null&&te.next!==null;if(us=0,we=te=Ot=null,ru=!1,Al=0,sa=null,n)throw Error(a(300));t===null||Be||(t=t.dependencies,t!==null&&Wo(t)&&(Be=!0))}function zm(t,n,s,l){Ot=t;var c=0;do{if(ia&&(sa=null),Al=0,ia=!1,25<=c)throw Error(a(301));if(c+=1,we=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=pE,f=n(s,l)}while(ia);return f}function cE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Ot.flags|=1024),n}function yh(){var t=au!==0;return au=0,t}function _h(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}us=0,we=te=Ot=null,ia=!1,Al=au=0,sa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ot.memoizedState=we=t:we=we.next=t,we}function Ce(){if(te===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var n=we===null?Ot.memoizedState:we.next;if(n!==null)we=n,te=t;else{if(t===null)throw Ot.alternate===null?Error(a(467)):Error(a(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},we===null?Ot.memoizedState=we=t:we=we.next=t}return we}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=Al;return Al+=1,sa===null&&(sa=[]),t=Om(sa,t,n),n=Ot,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?vg:Eg),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===mt)return We(t)}throw Error(a(438,String(t)))}function Th(t){var n=null,s=Ot.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Eh(),Ot.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function ji(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=Ce();return Ah(n,te,t)}function Ah(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(kt&Q)===Q:(us&Q)===Q){var B=z.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ta&&(G=!0);else if((us&B)===B){z=z.next,B===ta&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=Q,y=f):S=S.next=Q,Ot.lanes|=B,ps|=B;Q=z.action,gr&&s(f,Q),f=z.hasEagerState?z.eagerState:s(f,Q)}else B={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=B,y=f):S=S.next=B,Ot.lanes|=Q,ps|=Q;z=z.next}while(z!==null&&z!==n);if(S===null?y=f:S.next=E,!gn(f,t.memoizedState)&&(Be=!0,G&&(s=ea,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=Ce(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);gn(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Bm(t,n,s){var l=Ot,c=Ce(),f=Yt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!gn((te||c).memoizedState,s);y&&(c.memoizedState=s,Be=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(Sl(2048,8,E,[t]),c.getSnapshot!==n||y||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,ra(9,uu(),km.bind(null,l,c,s,n),null),ae===null)throw Error(a(349));f||(us&124)!==0||jm(l,n,s)}return s}function jm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ot.updateQueue,n===null?(n=Eh(),Ot.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function km(t,n,s,l){n.value=s,n.getSnapshot=l,Hm(n)&&Gm(t)}function qm(t,n,s){return s(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!gn(t,s)}catch{return!0}}function Gm(t){var n=$r(t,2);n!==null&&Tn(n,t,2)}function Sh(t){var n=cn();if(typeof t=="function"){var s=t;if(t=s(),gr){re(!0);try{s()}finally{re(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n}function Fm(t,n,s,l){return t.baseState=s,Ah(t,te,typeof l=="function"?l:ji)}function hE(t,n,s,l,c){if(hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Ym(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ym(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=s(c,l),S=H.S;S!==null&&S(y,E),Qm(t,n,E)}catch(z){Rh(t,n,z)}finally{H.T=f}}else try{f=s(c,l),Qm(t,n,f)}catch(z){Rh(t,n,z)}}function Qm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Km(t,n,l)},function(l){return Rh(t,n,l)}):Km(t,n,s)}function Km(t,n,s){n.status="fulfilled",n.value=s,Xm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ym(t,s)))}function Rh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Zm(t,n){if(Yt){var s=ae.formState;if(s!==null){t:{var l=Ot;if(Yt){if(ye){e:{for(var c=ye,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=Gn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ye=Gn(c.nextSibling),l=c.data==="F!";break t}}hr(l)}l=!1}l&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},s.queue=l,s=pg.bind(null,Ot,l),l.dispatch=s,l=Sh(!1),f=Nh.bind(null,Ot,!1,l.queue),l=cn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=hE.bind(null,Ot,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Jm(t){var n=Ce();return Wm(n,te,t)}function Wm(t,n,s){if(n=Ah(t,n,$m)[0],t=ou(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(y){throw y===yl?nu:y}else l=n;n=Ce();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ot.flags|=2048,ra(9,uu(),fE.bind(null,c,s),null)),[l,f,t]}function fE(t,n){t.action=n}function tg(t){var n=Ce(),s=te;if(s!==null)return Wm(n,s,t);Ce(),n=n.memoizedState,s=Ce();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ra(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=Eh(),Ot.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function uu(){return{destroy:void 0,resource:void 0}}function eg(){return Ce().memoizedState}function cu(t,n,s,l){var c=cn();l=l===void 0?null:l,Ot.flags|=t,c.memoizedState=ra(1|n,uu(),s,l)}function Sl(t,n,s,l){var c=Ce();l=l===void 0?null:l;var f=c.memoizedState.inst;te!==null&&l!==null&&gh(l,te.memoizedState.deps)?c.memoizedState=ra(n,f,s,l):(Ot.flags|=t,c.memoizedState=ra(1|n,f,s,l))}function ng(t,n){cu(8390656,8,t,n)}function ig(t,n){Sl(2048,8,t,n)}function sg(t,n){return Sl(4,2,t,n)}function rg(t,n){return Sl(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,s){s=s!=null?s.concat([t]):null,Sl(4,4,ag.bind(null,n,t),s)}function wh(){}function og(t,n){var s=Ce();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&gh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function ug(t,n){var s=Ce();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&gh(n,l[1]))return l[0];if(l=t(),gr){re(!0);try{t()}finally{re(!1)}}return s.memoizedState=[l,n],l}function Ch(t,n,s){return s===void 0||(us&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=fp(),Ot.lanes|=t,ps|=t,s)}function cg(t,n,s,l){return gn(s,n)?s:na.current!==null?(t=Ch(t,s,l),gn(t,n)||(Be=!0),t):(us&42)===0?(Be=!0,t.memoizedState=s):(t=fp(),Ot.lanes|=t,ps|=t,n)}function hg(t,n,s,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Nh(t,!1,n,s);try{var S=c(),z=H.S;if(z!==null&&z(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var G=oE(S,l);Rl(t,n,G,En(t))}else Rl(t,n,l,En(t))}catch(Q){Rl(t,n,{then:function(){},status:"rejected",reason:Q},En())}finally{nt.p=f,H.T=y}}function dE(){}function Dh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=fg(t).queue;hg(t,c,n,ct,s===null?dE:function(){return dg(t),s(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t).next.queue;Rl(t,n,{},En())}function Ih(){return We(Hl)}function mg(){return Ce().memoizedState}function gg(){return Ce().memoizedState}function mE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=ls(s);var l=os(n,t,s);l!==null&&(Tn(l,n,s),vl(l,n,s)),n={cache:rh()},t.payload=n;return}n=n.return}}function gE(t,n,s){var l=En();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},hu(t)?yg(n,s):(s=Xc(t,n,s,l),s!==null&&(Tn(s,t,l),_g(s,n,l)))}function pg(t,n,s){var l=En();Rl(t,n,s,l)}function Rl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(hu(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,gn(E,y))return Ko(t,n,c,0),ae===null&&Qo(),!1}catch{}finally{}if(s=Xc(t,n,c,l),s!==null)return Tn(s,t,l),_g(s,n,l),!0}return!1}function Nh(t,n,s,l){if(l={lane:2,revertLane:uf(),action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(a(479))}else n=Xc(t,s,l,2),n!==null&&Tn(n,t,2)}function hu(t){var n=t.alternate;return t===Ot||n!==null&&n===Ot}function yg(t,n){ia=ru=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function _g(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qa(t,s)}}var fu={readContext:We,use:lu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},vg={readContext:We,use:lu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:We,useEffect:ng,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,cu(4194308,4,ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var s=cn();n=n===void 0?null:n;var l=t();if(gr){re(!0);try{t()}finally{re(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=cn();if(s!==void 0){var c=s(n);if(gr){re(!0);try{s(n)}finally{re(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=gE.bind(null,Ot,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,s=pg.bind(null,Ot,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:wh,useDeferredValue:function(t,n){var s=cn();return Ch(s,t,n)},useTransition:function(){var t=Sh(!1);return t=hg.bind(null,Ot,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ot,c=cn();if(Yt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(kt&124)!==0||jm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,ng(qm.bind(null,l,f,t),[t]),l.flags|=2048,ra(9,uu(),km.bind(null,l,f,s,n),null),s},useId:function(){var t=cn(),n=ae.identifierPrefix;if(Yt){var s=Pi,l=Li;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=au++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=uE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nh.bind(null,Ot,!0,s),s.dispatch=n,[t,n]},useMemoCache:Th,useCacheRefresh:function(){return cn().memoizedState=mE.bind(null,Ot)}},Eg={readContext:We,use:lu,useCallback:og,useContext:We,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:rg,useMemo:ug,useReducer:ou,useRef:eg,useState:function(){return ou(ji)},useDebugValue:wh,useDeferredValue:function(t,n){var s=Ce();return cg(s,te.memoizedState,t,n)},useTransition:function(){var t=ou(ji)[0],n=Ce().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:Ih,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var s=Ce();return Fm(s,te,t,n)},useMemoCache:Th,useCacheRefresh:gg},pE={readContext:We,use:lu,useCallback:og,useContext:We,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:rg,useMemo:ug,useReducer:bh,useRef:eg,useState:function(){return bh(ji)},useDebugValue:wh,useDeferredValue:function(t,n){var s=Ce();return te===null?Ch(s,t,n):cg(s,te.memoizedState,t,n)},useTransition:function(){var t=bh(ji)[0],n=Ce().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:Ih,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var s=Ce();return te!==null?Fm(s,te,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Th,useCacheRefresh:gg},aa=null,wl=0;function du(t){var n=wl;return wl+=1,aa===null&&(aa=[]),Om(aa,t,n)}function Cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function mu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){var n=t._init;return n(t._payload)}function Ag(t){function n(M,N){if(t){var P=M.deletions;P===null?(M.deletions=[N],M.flags|=16):P.push(N)}}function s(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Ui(M,N),M.index=0,M.sibling=null,M}function f(M,N,P){return M.index=P,t?(P=M.alternate,P!==null?(P=P.index,P<N?(M.flags|=67108866,N):P):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,P,F){return N===null||N.tag!==6?(N=Zc(P,M.mode,F),N.return=M,N):(N=c(N,P),N.return=M,N)}function S(M,N,P,F){var ut=P.type;return ut===X?G(M,N,P.props.children,F,P.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Tg(ut)===N.type)?(N=c(N,P.props),Cl(N,P),N.return=M,N):(N=$o(P.type,P.key,P.props,null,M.mode,F),Cl(N,P),N.return=M,N)}function z(M,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Jc(P,M.mode,F),N.return=M,N):(N=c(N,P.children||[]),N.return=M,N)}function G(M,N,P,F,ut){return N===null||N.tag!==7?(N=lr(P,M.mode,F,ut),N.return=M,N):(N=c(N,P),N.return=M,N)}function Q(M,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Zc(""+N,M.mode,P),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return P=$o(N.type,N.key,N.props,null,M.mode,P),Cl(P,N),P.return=M,P;case k:return N=Jc(N,M.mode,P),N.return=M,N;case b:var F=N._init;return N=F(N._payload),Q(M,N,P)}if(Qt(N)||U(N))return N=lr(N,M.mode,P,null),N.return=M,N;if(typeof N.then=="function")return Q(M,du(N),P);if(N.$$typeof===mt)return Q(M,tu(M,N),P);mu(M,N)}return null}function B(M,N,P,F){var ut=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(M,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return P.key===ut?S(M,N,P,F):null;case k:return P.key===ut?z(M,N,P,F):null;case b:return ut=P._init,P=ut(P._payload),B(M,N,P,F)}if(Qt(P)||U(P))return ut!==null?null:G(M,N,P,F,null);if(typeof P.then=="function")return B(M,N,du(P),F);if(P.$$typeof===mt)return B(M,N,tu(M,P),F);mu(M,P)}return null}function j(M,N,P,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(P)||null,E(N,M,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return M=M.get(F.key===null?P:F.key)||null,S(N,M,F,ut);case k:return M=M.get(F.key===null?P:F.key)||null,z(N,M,F,ut);case b:var xt=F._init;return F=xt(F._payload),j(M,N,P,F,ut)}if(Qt(F)||U(F))return M=M.get(P)||null,G(N,M,F,ut,null);if(typeof F.then=="function")return j(M,N,P,du(F),ut);if(F.$$typeof===mt)return j(M,N,P,tu(N,F),ut);mu(N,F)}return null}function Tt(M,N,P,F){for(var ut=null,xt=null,ht=N,_t=N=0,ke=null;ht!==null&&_t<P.length;_t++){ht.index>_t?(ke=ht,ht=null):ke=ht.sibling;var Ft=B(M,ht,P[_t],F);if(Ft===null){ht===null&&(ht=ke);break}t&&ht&&Ft.alternate===null&&n(M,ht),N=f(Ft,N,_t),xt===null?ut=Ft:xt.sibling=Ft,xt=Ft,ht=ke}if(_t===P.length)return s(M,ht),Yt&&ur(M,_t),ut;if(ht===null){for(;_t<P.length;_t++)ht=Q(M,P[_t],F),ht!==null&&(N=f(ht,N,_t),xt===null?ut=ht:xt.sibling=ht,xt=ht);return Yt&&ur(M,_t),ut}for(ht=l(ht);_t<P.length;_t++)ke=j(ht,M,_t,P[_t],F),ke!==null&&(t&&ke.alternate!==null&&ht.delete(ke.key===null?_t:ke.key),N=f(ke,N,_t),xt===null?ut=ke:xt.sibling=ke,xt=ke);return t&&ht.forEach(function(Rs){return n(M,Rs)}),Yt&&ur(M,_t),ut}function yt(M,N,P,F){if(P==null)throw Error(a(151));for(var ut=null,xt=null,ht=N,_t=N=0,ke=null,Ft=P.next();ht!==null&&!Ft.done;_t++,Ft=P.next()){ht.index>_t?(ke=ht,ht=null):ke=ht.sibling;var Rs=B(M,ht,Ft.value,F);if(Rs===null){ht===null&&(ht=ke);break}t&&ht&&Rs.alternate===null&&n(M,ht),N=f(Rs,N,_t),xt===null?ut=Rs:xt.sibling=Rs,xt=Rs,ht=ke}if(Ft.done)return s(M,ht),Yt&&ur(M,_t),ut;if(ht===null){for(;!Ft.done;_t++,Ft=P.next())Ft=Q(M,Ft.value,F),Ft!==null&&(N=f(Ft,N,_t),xt===null?ut=Ft:xt.sibling=Ft,xt=Ft);return Yt&&ur(M,_t),ut}for(ht=l(ht);!Ft.done;_t++,Ft=P.next())Ft=j(ht,M,_t,Ft.value,F),Ft!==null&&(t&&Ft.alternate!==null&&ht.delete(Ft.key===null?_t:Ft.key),N=f(Ft,N,_t),xt===null?ut=Ft:xt.sibling=Ft,xt=Ft);return t&&ht.forEach(function(yT){return n(M,yT)}),Yt&&ur(M,_t),ut}function ne(M,N,P,F){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case C:t:{for(var ut=P.key;N!==null;){if(N.key===ut){if(ut=P.type,ut===X){if(N.tag===7){s(M,N.sibling),F=c(N,P.props.children),F.return=M,M=F;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Tg(ut)===N.type){s(M,N.sibling),F=c(N,P.props),Cl(F,P),F.return=M,M=F;break t}s(M,N);break}else n(M,N);N=N.sibling}P.type===X?(F=lr(P.props.children,M.mode,F,P.key),F.return=M,M=F):(F=$o(P.type,P.key,P.props,null,M.mode,F),Cl(F,P),F.return=M,M=F)}return y(M);case k:t:{for(ut=P.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(M,N.sibling),F=c(N,P.children||[]),F.return=M,M=F;break t}else{s(M,N);break}else n(M,N);N=N.sibling}F=Jc(P,M.mode,F),F.return=M,M=F}return y(M);case b:return ut=P._init,P=ut(P._payload),ne(M,N,P,F)}if(Qt(P))return Tt(M,N,P,F);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),yt(M,N,P,F)}if(typeof P.then=="function")return ne(M,N,du(P),F);if(P.$$typeof===mt)return ne(M,N,tu(M,P),F);mu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(M,N.sibling),F=c(N,P),F.return=M,M=F):(s(M,N),F=Zc(P,M.mode,F),F.return=M,M=F),y(M)):s(M,N)}return function(M,N,P,F){try{wl=0;var ut=ne(M,N,P,F);return aa=null,ut}catch(ht){if(ht===yl||ht===nu)throw ht;var xt=pn(29,ht,null,M.mode);return xt.lanes=F,xt.return=M,xt}finally{}}}var la=Ag(!0),bg=Ag(!1),xn=$(null),li=null;function cs(t){var n=t.alternate;W(Ue,Ue.current&1),W(xn,t),li===null&&(n===null||na.current!==null||n.memoizedState!==null)&&(li=t)}function Sg(t){if(t.tag===22){if(W(Ue,Ue.current),W(xn,t),li===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(li=t)}}else hs()}function hs(){W(Ue,Ue.current),W(xn,xn.current)}function ki(t){st(xn),li===t&&(li=null),st(Ue)}var Ue=$(0);function gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Tf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Oh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Vh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),c=ls(l);c.payload=n,s!=null&&(c.callback=s),n=os(t,c,l),n!==null&&(Tn(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),c=ls(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=os(t,c,l),n!==null&&(Tn(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=ls(s);l.tag=2,n!=null&&(l.callback=n),n=os(t,l,s),n!==null&&(Tn(n,t,s),vl(n,t,s))}};function Rg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!ul(s,l)||!ul(c,f):!0}function wg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function pr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cg(t){pu(t)}function Dg(t){console.error(t)}function Ig(t){pu(t)}function yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xh(t,n,s){return s=ls(s),s.tag=3,s.payload={element:null},s.callback=function(){yu(t,n)},s}function Og(t){return t=ls(t),t.tag=3,t}function Vg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ng(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function yE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ml(n,s,c,!0),s=xn.current,s!==null){switch(s.tag){case 13:return li===null?sf():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===oh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),af(t,l,c)),!1;case 22:return s.flags|=65536,l===oh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),af(t,l,c)),!1}throw Error(a(435,s.tag))}return af(t,l,c),sf(),!1}if(Yt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==eh&&(t=Error(a(422),{cause:l}),dl(In(t,s)))):(l!==eh&&(n=Error(a(423),{cause:l}),dl(In(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=In(l,s),c=xh(t.stateNode,l,c),hh(t,c),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),Ml===null?Ml=[f]:Ml.push(f),_e!==4&&(_e=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=xh(s.stateNode,l,t),hh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Og(c),Vg(c,t,s,l),hh(s,c),!1}s=s.return}while(s!==null);return!1}var xg=Error(a(461)),Be=!1;function Qe(t,n,s,l){n.child=t===null?bg(n,null,s,l):la(n,t.child,s,l)}function Mg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return dr(n),l=ph(t,n,s,y,f,c),E=yh(),t!==null&&!Be?(_h(t,n,c),qi(t,n,c)):(Yt&&E&&Wc(n),n.flags|=1,Qe(t,n,l,c),n.child)}function Ug(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=$o(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ul,s(y,l)&&t.ref===n.ref)return qi(t,n,c)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(Be=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Be=!0);else return n.lanes=t.lanes,qi(t,n,c)}return Mh(t,n,s,l,c)}function Pg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):dh(),Sg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(eu(n,f.cachePool),Lm(n,f),hs(),n.memoizedState=null):(t!==null&&eu(n,null),dh(),hs());return Qe(t,n,c,s),n.child}function zg(t,n,s,l){var c=lh();return c=c===null?null:{parent:Me._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&eu(n,null),dh(),Sg(n),t!==null&&ml(t,n,l,!0),null}function _u(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mh(t,n,s,l,c){return dr(n),s=ph(t,n,s,l,void 0,c),l=yh(),t!==null&&!Be?(_h(t,n,c),qi(t,n,c)):(Yt&&l&&Wc(n),n.flags|=1,Qe(t,n,s,c),n.child)}function Bg(t,n,s,l,c,f){return dr(n),n.updateQueue=null,s=zm(n,l,s,c),Pm(t),l=yh(),t!==null&&!Be?(_h(t,n,f),qi(t,n,f)):(Yt&&l&&Wc(n),n.flags|=1,Qe(t,n,s,f),n.child)}function jg(t,n,s,l,c){if(dr(n),n.stateNode===null){var f=Zr,y=s.contextType;typeof y=="object"&&y!==null&&(f=We(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},uh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?We(y):Zr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Oh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=pr(s,E);f.props=S;var z=f.context,G=s.contextType;y=Zr,typeof G=="object"&&G!==null&&(y=We(G));var Q=s.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&wg(n,f,l,y),as=!1;var B=n.memoizedState;f.state=B,Tl(n,l,f,c),El(),z=n.memoizedState,E||B!==z||as?(typeof Q=="function"&&(Oh(n,s,Q,l),z=n.memoizedState),(S=as||Rg(n,s,S,l,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ch(t,n),y=n.memoizedProps,G=pr(s,y),f.props=G,Q=n.pendingProps,B=f.context,z=s.contextType,S=Zr,typeof z=="object"&&z!==null&&(S=We(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||B!==S)&&wg(n,f,l,S),as=!1,B=n.memoizedState,f.state=B,Tl(n,l,f,c),El();var j=n.memoizedState;y!==Q||B!==j||as||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(Oh(n,s,E,l),j=n.memoizedState),(G=as||Rg(n,s,G,l,B,j,S)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=S,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,_u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,c),n.child=la(n,null,s,c)):Qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=qi(t,n,c),t}function kg(t,n,s,l){return fl(),n.flags|=256,Qe(t,n,s,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Dm()}}function Ph(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Mn),t}function qg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ue.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Yt){if(c?cs(n):hs(),Yt){var E=ye,S;if(S=E){t:{for(S=E,E=ai;S.nodeType!==8;){if(!E){E=null;break t}if(S=Gn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:or!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},S=pn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,un=n,ye=null,S=!0):S=!1}S||hr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Tf(E)?n.lanes=32:n.lanes=536870912,null;ki(n)}return E=l.children,l=l.fallback,c?(hs(),c=n.mode,E=vu({mode:"hidden",children:E},c),l=lr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Lh(s),c.childLanes=Ph(t,y,s),n.memoizedState=Uh,l):(cs(n),zh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(cs(n),n.flags&=-257,n=Bh(t,n,s)):n.memoizedState!==null?(hs(),n.child=t.child,n.flags|=128,n=null):(hs(),c=l.fallback,E=n.mode,l=vu({mode:"visible",children:l.children},E),c=lr(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,la(n,t.child,null,s),l=n.child,l.memoizedState=Lh(s),l.childLanes=Ph(t,y,s),n.memoizedState=Uh,n=c);else if(cs(n),Tf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,dl({value:l,source:null,stack:null}),n=Bh(t,n,s)}else if(Be||ml(t,n,s,!1),y=(s&t.childLanes)!==0,Be||y){if(y=ae,y!==null&&(l=s&-s,l=(l&42)!==0?1:Ji(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,$r(t,l),Tn(y,t,l),xg;E.data==="$?"||sf(),n=Bh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,ye=Gn(E.nextSibling),un=n,Yt=!0,cr=null,ai=!1,t!==null&&(On[Vn++]=Li,On[Vn++]=Pi,On[Vn++]=or,Li=t.id,Pi=t.overflow,or=n),n=zh(n,l.children),n.flags|=4096);return n}return c?(hs(),c=l.fallback,E=n.mode,S=t.child,z=S.sibling,l=Ui(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,z!==null?c=Ui(z,c):(c=lr(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Lh(s):(S=E.cachePool,S!==null?(z=Me._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=Dm(),E={baseLanes:E.baseLanes|s,cachePool:S}),c.memoizedState=E,c.childLanes=Ph(t,y,s),n.memoizedState=Uh,l):(cs(n),s=t.child,t=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function zh(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=pn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bh(t,n,s){return la(n,t.child,null,s),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ih(t.return,n,s)}function jh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Gg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Qe(t,n,l.children,s),l=Ue.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,s,n);else if(t.tag===19)Hg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ue,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&gu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),jh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}jh(n,!0,s,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ml(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ui(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ui(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function _E(t,n,s){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),rs(n,Me,t.memoizedState.cache),fl();break;case 27:case 5:Qn(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:rs(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?qg(t,n,s):(cs(n),t=qi(t,n,s),t!==null?t.sibling:null);cs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ml(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Gg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ue,Ue.current),l)break;return null;case 22:case 23:return n.lanes=0,Pg(t,n,s);case 24:rs(n,Me,t.memoizedState.cache)}return qi(t,n,s)}function Fg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Be=!0;else{if(!kh(t,s)&&(n.flags&128)===0)return Be=!1,_E(t,n,s);Be=(t.flags&131072)!==0}else Be=!1,Yt&&(n.flags&1048576)!==0&&Tm(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")$c(l)?(t=pr(l,t),n.tag=1,n=jg(null,n,l,t,s)):(n.tag=0,n=Mh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===Mt){n.tag=11,n=Mg(null,n,l,t,s);break t}else if(c===V){n.tag=14,n=Ug(null,n,l,t,s);break t}}throw n=de(l)||l,Error(a(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=pr(l,n.pendingProps),jg(t,n,l,c,s);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ch(t,n),Tl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,rs(n,Me,l),l!==f.cache&&sh(n,[Me],s,!0),El(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,s);break t}else if(l!==c){c=In(Error(a(424)),n),dl(c),n=kg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ye=Gn(t.firstChild),un=n,Yt=!0,cr=null,ai=!0,s=bg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fl(),l===c){n=qi(t,n,s);break t}Qe(t,n,l,s)}n=n.child}return n;case 26:return _u(t,n),t===null?(s=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Yt||(s=n.type,t=n.pendingProps,l=xu(Et.current).createElement(s),l[Oe]=n,l[Se]=t,Xe(l,s,t),ve(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qn(n),t===null&&Yt&&(l=n.stateNode=Yp(n.type,n.pendingProps,Et.current),un=n,ai=!0,c=ye,Es(n.type)?(Af=c,ye=Gn(l.firstChild)):ye=c),Qe(t,n,n.pendingProps.children,s),_u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Yt&&((c=l=ye)&&(l=YE(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,un=n,ye=Gn(l.firstChild),ai=!1,c=!0):c=!1),c||hr(n)),Qn(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,_f(c,f)?l=null:y!==null&&_f(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ph(t,n,cE,null,null,s),Hl._currentValue=c),_u(t,n),Qe(t,n,l,s),n.child;case 6:return t===null&&Yt&&((t=s=ye)&&(s=QE(s,n.pendingProps,ai),s!==null?(n.stateNode=s,un=n,ye=null,t=!0):t=!1),t||hr(n)),null;case 13:return qg(t,n,s);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,s):Qe(t,n,l,s),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,s);case 7:return Qe(t,n,n.pendingProps,s),n.child;case 8:return Qe(t,n,n.pendingProps.children,s),n.child;case 12:return Qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,rs(n,n.type,l.value),Qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,dr(n),c=We(c),l=l(c),n.flags|=1,Qe(t,n,l,s),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,s);case 15:return Lg(t,n,n.type,n.pendingProps,s);case 19:return Gg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=vu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ui(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Pg(t,n,s);case 24:return dr(n),l=We(Me),t===null?(c=lh(),c===null&&(c=ae,f=rh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},uh(n),rs(n,Me,c)):((t.lanes&s)!==0&&(ch(t,n),Tl(n,null,null,s),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rs(n,Me,l)):(l=f.cache,rs(n,Me,l),l!==c.cache&&sh(n,[Me],s,!0))),Qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(t){t.flags|=4}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=xn.current,n!==null&&((kt&4194048)===kt?li!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==li))throw _l=oh,Im;t.flags|=8192}}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fa():536870912,t.lanes|=n,ha|=n)}function Dl(t,n){if(!Yt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function vE(t,n,s){var l=n.pendingProps;switch(th(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(Me),An(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(hl(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ge(n),null;case 26:return s=n.memoizedState,t===null?(Hi(n),s!==null?(ge(n),Yg(n,s)):(ge(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Hi(n),ge(n),Yg(n,s)):(ge(n),n.flags&=-16777217):(t.memoizedProps!==l&&Hi(n),ge(n),n.flags&=-16777217),null;case 27:zn(n),s=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ge(n),null}t=gt.current,hl(n)?Am(n):(t=Yp(c,l,s),n.stateNode=t,Hi(n))}return ge(n),null;case 5:if(zn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ge(n),null}if(t=gt.current,hl(n))Am(n);else{switch(c=xu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[Oe]=n,t[Se]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Xe(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Hi(n)}}return ge(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Et.current,hl(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=un,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Oe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,s)),t||hr(n)}else t=xu(t).createTextNode(l),t[Oe]=n,n.stateNode=t}return ge(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=hl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Oe]=n}else fl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ki(n),n):(ki(n),null)}if(ki(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Eu(n,n.updateQueue),ge(n),null;case 4:return An(),t===null&&df(n.stateNode.containerInfo),ge(n),null;case 10:return Bi(n.type),ge(n),null;case 19:if(st(Ue),c=n.memoizedState,c===null)return ge(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Dl(c,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=gu(t),f!==null){for(n.flags|=128,Dl(c,!1),t=f.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Em(s,t),s=s.sibling;return W(Ue,Ue.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ge()>bu&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=gu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Yt)return ge(n),null}else 2*Ge()-c.renderingStartTime>bu&&s!==536870912&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ge(),n.sibling=null,t=Ue.current,W(Ue,l?t&1|2:t&1),n):(ge(n),null);case 22:case 23:return ki(n),mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),s=n.updateQueue,s!==null&&Eu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&st(mr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(Me),ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function EE(t,n){switch(th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(Me),An(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return zn(n),null;case 13:if(ki(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(Ue),null;case 4:return An(),null;case 10:return Bi(n.type),null;case 22:case 23:return ki(n),mh(),t!==null&&st(mr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(Me),null;case 25:return null;default:return null}}function Qg(t,n){switch(th(n),n.tag){case 3:Bi(Me),An();break;case 26:case 27:case 5:zn(n);break;case 4:An();break;case 13:ki(n);break;case 19:st(Ue);break;case 10:Bi(n.type);break;case 22:case 23:ki(n),mh(),t!==null&&st(mr);break;case 24:Bi(Me)}}function Il(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){ie(n,n.return,E)}}function fs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=s,z=E;try{z()}catch(G){ie(c,S,G)}}}l=l.next}while(l!==f)}}catch(G){ie(n,n.return,G)}}function Kg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Um(n,s)}catch(l){ie(t,t.return,l)}}}function Xg(t,n,s){s.props=pr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ie(t,n,l)}}function Nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ie(t,n,c)}}function oi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ie(t,n,c)}else s.current=null}function $g(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ie(t,t.return,c)}}function qh(t,n,s){try{var l=t.stateNode;kE(l,t.type,s,n),l[Se]=n}catch(c){ie(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Es(t.type)||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Es(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Vu));else if(l!==4&&(l===27&&Es(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gh(t,n,s),t=t.sibling;t!==null;)Gh(t,n,s),t=t.sibling}function Tu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Es(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Tu(t,n,s),t=t.sibling;t!==null;)Tu(t,n,s),t=t.sibling}function Jg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Xe(n,l,s),n[Oe]=t,n[Se]=s}catch(f){ie(t,t.return,f)}}var Gi=!1,Te=!1,Fh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,je=null;function TE(t,n){if(t=t.containerInfo,pf=Bu,t=cm(t),Hc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,S=-1,z=0,G=0,Q=t,B=null;e:for(;;){for(var j;Q!==s||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(S=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(j=Q.firstChild)!==null;)B=Q,Q=j;for(;;){if(Q===t)break e;if(B===s&&++z===c&&(E=y),B===f&&++G===l&&(S=y),(j=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=j}s=E===-1||S===-1?null:{start:E,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(yf={focusedElem:t,selectionRange:s},Bu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Tt=pr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){ie(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ef(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function tp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s),l&4&&Il(5,s);break;case 1:if(ds(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){ie(s,s.return,y)}else{var c=pr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ie(s,s.return,y)}}l&64&&Kg(s),l&512&&Nl(s,s.return);break;case 3:if(ds(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Um(t,n)}catch(y){ie(s,s.return,y)}}break;case 27:n===null&&l&4&&Jg(s);case 26:case 5:ds(t,s),n===null&&l&4&&$g(s),l&512&&Nl(s,s.return);break;case 12:ds(t,s);break;case 13:ds(t,s),l&4&&ip(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=NE.bind(null,s),KE(t,s))));break;case 22:if(l=s.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||Te,c=Gi;var f=Te;Gi=l,(Te=n)&&!f?ms(t,s,(s.subtreeFlags&8772)!==0):ds(t,s),Gi=c,Te=f}break;case 30:break;default:ds(t,s)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&es(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,hn=!1;function Fi(t,n,s){for(s=s.child;s!==null;)np(t,n,s),s=s.sibling}function np(t,n,s){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Rt,s)}catch{}switch(s.tag){case 26:Te||oi(s,n),Fi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||oi(s,n);var l=he,c=hn;Es(s.type)&&(he=s.stateNode,hn=!1),Fi(t,n,s),Bl(s.stateNode),he=l,hn=c;break;case 5:Te||oi(s,n);case 6:if(l=he,c=hn,he=null,Fi(t,n,s),he=l,hn=c,he!==null)if(hn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){ie(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){ie(s,n,f)}break;case 18:he!==null&&(hn?(t=he,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ql(t)):Gp(he,s.stateNode));break;case 4:l=he,c=hn,he=s.stateNode.containerInfo,hn=!0,Fi(t,n,s),he=l,hn=c;break;case 0:case 11:case 14:case 15:Te||fs(2,s,n),Te||fs(4,s,n),Fi(t,n,s);break;case 1:Te||(oi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Xg(s,n,l)),Fi(t,n,s);break;case 21:Fi(t,n,s);break;case 22:Te=(l=Te)||s.memoizedState!==null,Fi(t,n,s),Te=l;break;default:Fi(t,n,s)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(s){ie(n,n.return,s)}}function AE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(a(435,t.tag))}}function Yh(t,n){var s=AE(t);n.forEach(function(l){var c=OE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function yn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Es(E.type)){he=E.stateNode,hn=!1;break t}break;case 5:he=E.stateNode,hn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(he===null)throw Error(a(160));np(f,y,c),he=null,hn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)sp(n,t),n=n.sibling}var Hn=null;function sp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),l&4&&(fs(3,t,t.return),Il(3,t),fs(5,t,t.return));break;case 1:yn(n,t),_n(t),l&512&&(Te||s===null||oi(s,s.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Hn;if(yn(n,t),_n(t),l&512&&(Te||s===null||oi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fs]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Xe(f,l,s),f[Oe]=t,ve(f),l=f;break t;case"link":var y=Jp("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Xe(f,l,s),c.head.appendChild(f);break;case"meta":if(y=Jp("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Xe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Oe]=t,ve(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Wp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(n,t),_n(t),l&512&&(Te||s===null||oi(s,s.return)),s!==null&&l&4&&qh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(n,t),_n(t),l&512&&(Te||s===null||oi(s,s.return)),t.flags&32){c=t.stateNode;try{Rn(c,"")}catch(j){ie(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(yn(n,t),_n(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(j){ie(t,t.return,j)}}break;case 3:if(Lu=null,c=Hn,Hn=Mu(n.containerInfo),yn(n,t),Hn=c,_n(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(j){ie(t,t.return,j)}Fh&&(Fh=!1,rp(t));break;case 4:l=Hn,Hn=Mu(t.stateNode.containerInfo),yn(n,t),_n(t),Hn=l;break;case 12:yn(n,t),_n(t);break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jh=Ge()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 22:c=t.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,z=Gi,G=Te;if(Gi=z||c,Te=G||S,yn(n,t),Te=G,Gi=z,_n(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||S||Gi||Te||yr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){S=s=n;try{if(f=S.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=S.stateNode;var Q=S.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){ie(S,S.return,j)}}}else if(n.tag===6){if(s===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(j){ie(S,S.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yh(t,s))));break;case 19:yn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Zg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Hh(t);Tu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(Rn(y,""),s.flags&=-33);var E=Hh(t);Tu(t,E,y);break;case 3:case 4:var S=s.stateNode.containerInfo,z=Hh(t);Gh(t,z,S);break;default:throw Error(a(161))}}catch(G){ie(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fs(4,n,n.return),yr(n);break;case 1:oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Xg(n,n.return,s),yr(n);break;case 27:Bl(n.stateNode);case 26:case 5:oi(n,n.return),yr(n);break;case 22:n.memoizedState===null&&yr(n);break;case 30:yr(n);break;default:yr(n)}t=t.sibling}}function ms(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ms(c,f,s),Il(4,f);break;case 1:if(ms(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){ie(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Mm(S[c],E)}catch(z){ie(l,l.return,z)}}s&&y&64&&Kg(f),Nl(f,f.return);break;case 27:Jg(f);case 26:case 5:ms(c,f,s),s&&l===null&&y&4&&$g(f),Nl(f,f.return);break;case 12:ms(c,f,s);break;case 13:ms(c,f,s),s&&y&4&&ip(c,f);break;case 22:f.memoizedState===null&&ms(c,f,s),Nl(f,f.return);break;case 30:break;default:ms(c,f,s)}n=n.sibling}}function Qh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function ui(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(t,n,s,l),n=n.sibling}function ap(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,s,l),c&2048&&Il(9,n);break;case 1:ui(t,n,s,l);break;case 3:ui(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){ui(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){ie(n,n.return,S)}}else ui(t,n,s,l);break;case 13:ui(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,s,l):Ol(t,n):f._visibility&2?ui(t,n,s,l):(f._visibility|=2,oa(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(y,n);break;case 24:ui(t,n,s,l),c&2048&&Kh(n.alternate,n);break;default:ui(t,n,s,l)}}function oa(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=s,S=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:oa(f,y,E,S,c),Il(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?oa(f,y,E,S,c):Ol(f,y):(G._visibility|=2,oa(f,y,E,S,c)),c&&z&2048&&Qh(y.alternate,y);break;case 24:oa(f,y,E,S,c),c&&z&2048&&Kh(y.alternate,y);break;default:oa(f,y,E,S,c)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ol(s,l),c&2048&&Qh(l.alternate,l);break;case 24:Ol(s,l),c&2048&&Kh(l.alternate,l);break;default:Ol(s,l)}n=n.sibling}}var Vl=8192;function ua(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 26:ua(t),t.flags&Vl&&t.memoizedState!==null&&lT(Hn,t.memoizedState,t.memoizedProps);break;case 5:ua(t);break;case 3:case 4:var n=Hn;Hn=Mu(t.stateNode.containerInfo),ua(t),Hn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,ua(t),Vl=n):ua(t));break;default:ua(t)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,cp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&fs(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Au(t)):xl(t);break;default:xl(t)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,cp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fs(8,n,n.return),Au(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Au(n));break;default:Au(n)}t=t.sibling}}function cp(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(ep(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var bE={getCacheForType:function(t){var n=We(Me),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},SE=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Ut=null,kt=0,Jt=0,vn=null,gs=!1,ca=!1,Xh=!1,Yi=0,_e=0,ps=0,_r=0,$h=0,Mn=0,ha=0,Ml=null,fn=null,Zh=!1,Jh=0,bu=1/0,Su=null,ys=null,Ke=0,_s=null,fa=null,da=0,Wh=0,tf=null,hp=null,Ul=0,ef=null;function En(){if((Zt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var t=ta;return t!==0?t:uf()}return Wi()}function fp(){Mn===0&&(Mn=(kt&536870912)===0||Yt?Ga():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Mn}function Tn(t,n,s){(t===ae&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(ma(t,0),vs(t,kt,Mn,!1)),Si(t,s),((Zt&2)===0||t!==ae)&&(t===ae&&((Zt&2)===0&&(_r|=s),_e===4&&vs(t,kt,Mn,!1)),ci(t))}function dp(t,n,s){if((Zt&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Gs(t,n),c=l?CE(t,n):rf(t,n,!0),f=l;do{if(c===0){ca&&!l&&vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RE(s)){c=rf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ml;var S=E.current.memoizedState.isDehydrated;if(S&&(ma(E,y).flags|=256),y=rf(E,y,!1),y!==2){if(Xh&&!S){E.errorRecoveryDisabledLanes|=f,_r|=f,c=4;break t}f=fn,fn=c,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ma(t,0),vs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,Mn,!gs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Jh+300-Ge(),10<c)){if(vs(l,n,Mn,!gs),Or(l,0,!0)!==0)break t;l.timeoutHandle=qp(mp.bind(null,l,s,fn,Su,Zh,n,Mn,_r,ha,gs,f,2,-0,0),c);break t}mp(l,s,fn,Su,Zh,n,Mn,_r,ha,gs,f,0,-0,0)}}break}while(!0);ci(t)}function mp(t,n,s,l,c,f,y,E,S,z,G,Q,B,j){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:aT},lp(n),Q=oT(),Q!==null)){t.cancelPendingCommit=Q(Tp.bind(null,t,n,f,s,l,c,y,E,S,G,1,B,j)),vs(t,f,y,!z);return}Tp(t,n,f,s,l,c,y,E,S)}function RE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(t,n,s,l){n&=~$h,n&=~_r,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-me(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Xn(t,s,n)}function Ru(){return(Zt&6)===0?(Ll(0),!1):!0}function nf(){if(Ut!==null){if(Jt===0)var t=Ut.return;else t=Ut,zi=fr=null,vh(t),aa=null,wl=0,t=Ut;for(;t!==null;)Qg(t.alternate,t),t=t.return;Ut=null}}function ma(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,HE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),nf(),ae=t,Ut=s=Ui(t.current,null),kt=n,Jt=0,vn=null,gs=!1,ca=Gs(t,n),Xh=!1,ha=Mn=$h=_r=ps=_e=0,fn=Ml=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-me(l),f=1<<c;n|=t[c],l&=~f}return Yi=n,Qo(),s}function gp(t,n){Ot=null,H.H=fu,n===yl||n===nu?(n=Vm(),Jt=3):n===Im?(n=Vm(),Jt=4):Jt=n===xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ut===null&&(_e=1,yu(t,In(n,t.current)))}function pp(){var t=H.H;return H.H=fu,t===null?fu:t}function yp(){var t=H.A;return H.A=bE,t}function sf(){_e=4,gs||(kt&4194048)!==kt&&xn.current!==null||(ca=!0),(ps&134217727)===0&&(_r&134217727)===0||ae===null||vs(ae,kt,Mn,!1)}function rf(t,n,s){var l=Zt;Zt|=2;var c=pp(),f=yp();(ae!==t||kt!==n)&&(Su=null,ma(t,n)),n=!1;var y=_e;t:do try{if(Jt!==0&&Ut!==null){var E=Ut,S=vn;switch(Jt){case 8:nf(),y=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var z=Jt;if(Jt=0,vn=null,ga(t,E,S,z),s&&ca){y=0;break t}break;default:z=Jt,Jt=0,vn=null,ga(t,E,S,z)}}wE(),y=_e;break}catch(G){gp(t,G)}while(!0);return n&&t.shellSuspendCounter++,zi=fr=null,Zt=l,H.H=c,H.A=f,Ut===null&&(ae=null,kt=0,Qo()),y}function wE(){for(;Ut!==null;)_p(Ut)}function CE(t,n){var s=Zt;Zt|=2;var l=pp(),c=yp();ae!==t||kt!==n?(Su=null,bu=Ge()+500,ma(t,n)):ca=Gs(t,n);t:do try{if(Jt!==0&&Ut!==null){n=Ut;var f=vn;e:switch(Jt){case 1:Jt=0,vn=null,ga(t,n,f,1);break;case 2:case 9:if(Nm(f)){Jt=0,vn=null,vp(n);break}n=function(){Jt!==2&&Jt!==9||ae!==t||(Jt=7),ci(t)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Nm(f)?(Jt=0,vn=null,vp(n)):(Jt=0,vn=null,ga(t,n,f,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var E=Ut;if(!y||ty(y)){Jt=0,vn=null;var S=E.sibling;if(S!==null)Ut=S;else{var z=E.return;z!==null?(Ut=z,wu(z)):Ut=null}break e}}Jt=0,vn=null,ga(t,n,f,5);break;case 6:Jt=0,vn=null,ga(t,n,f,6);break;case 8:nf(),_e=6;break t;default:throw Error(a(462))}}DE();break}catch(G){gp(t,G)}while(!0);return zi=fr=null,H.H=l,H.A=c,Zt=s,Ut!==null?0:(ae=null,kt=0,Qo(),_e)}function DE(){for(;Ut!==null&&!Zi();)_p(Ut)}function _p(t){var n=Fg(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?wu(t):Ut=n}function vp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:vh(n);default:Qg(s,n),n=Ut=Em(n,Yi),n=Fg(s,n,Yi)}t.memoizedProps=t.pendingProps,n===null?wu(t):Ut=n}function ga(t,n,s,l){zi=fr=null,vh(n),aa=null,wl=0;var c=n.return;try{if(yE(t,c,n,s,kt)){_e=1,yu(t,In(s,t.current)),Ut=null;return}}catch(f){if(c!==null)throw Ut=c,f;_e=1,yu(t,In(s,t.current)),Ut=null;return}n.flags&32768?(Yt||l===1?t=!0:ca||(kt&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,gs);return}t=n.return;var s=vE(n.alternate,n,Yi);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=t}while(n!==null);_e===0&&(_e=5)}function Ep(t,n){do{var s=EE(t.alternate,t);if(s!==null){s.flags&=32767,Ut=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=s}while(t!==null);_e=6,Ut=null}function Tp(t,n,s,l,c,f,y,E,S){t.cancelPendingCommit=null;do Cu();while(Ke!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kc,Ya(t,s,f,y,E,S),t===ae&&(Ut=ae=null,kt=0),fa=n,_s=t,da=s,Wh=f,tf=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VE(ot,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Zt,Zt|=4;try{TE(t,n,s)}finally{Zt=y,nt.p=c,H.T=l}}Ke=1,Ap(),bp(),Sp()}}function Ap(){if(Ke===1){Ke=0;var t=_s,n=fa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Zt;Zt|=4;try{sp(n,t);var f=yf,y=cm(t.containerInfo),E=f.focusedElem,S=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(S!==null&&Hc(E)){var z=S.start,G=S.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var j=B.getSelection(),Tt=E.textContent.length,yt=Math.min(S.start,Tt),ne=S.end===void 0?yt:Math.min(S.end,Tt);!j.extend&&yt>ne&&(y=ne,ne=yt,yt=y);var M=om(E,yt),N=om(E,ne);if(M&&N&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var P=Q.createRange();P.setStart(M.node,M.offset),j.removeAllRanges(),yt>ne?(j.addRange(P),j.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),j.addRange(P))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Bu=!!pf,yf=pf=null}finally{Zt=c,nt.p=l,H.T=s}}t.current=n,Ke=2}}function bp(){if(Ke===2){Ke=0;var t=_s,n=fa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Zt;Zt|=4;try{tp(t,n.alternate,n)}finally{Zt=c,nt.p=l,H.T=s}}Ke=3}}function Sp(){if(Ke===4||Ke===3){Ke=0,Nr();var t=_s,n=fa,s=da,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,fa=_s=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),Vr(s),n=n.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Rt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(da&3)!==0&&Cu(),ci(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===ef?Ul++:(Ul=0,ef=t):Ul=0,Ll(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Cu(t){return Ap(),bp(),Sp(),wp()}function wp(){if(Ke!==5)return!1;var t=_s,n=Wh;Wh=0;var s=Vr(da),l=H.T,c=nt.p;try{nt.p=32>s?32:s,H.T=null,s=tf,tf=null;var f=_s,y=da;if(Ke=0,fa=_s=null,da=0,(Zt&6)!==0)throw Error(a(331));var E=Zt;if(Zt|=4,up(f.current),ap(f,f.current,y,s),Zt=E,Ll(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Rt,f)}catch{}return!0}finally{nt.p=c,H.T=l,Rp(t,n)}}function Cp(t,n,s){n=In(s,n),n=xh(t.stateNode,n,2),t=os(t,n,2),t!==null&&(Si(t,2),ci(t))}function ie(t,n,s){if(t.tag===3)Cp(t,t,s);else for(;n!==null;){if(n.tag===3){Cp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=In(s,t),s=Og(2),l=os(n,s,2),l!==null&&(Vg(s,l,n,t),Si(l,2),ci(l));break}}n=n.return}}function af(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new SE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Xh=!0,c.add(s),t=IE.bind(null,t,n,s),n.then(t,t))}function IE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ae===t&&(kt&s)===s&&(_e===4||_e===3&&(kt&62914560)===kt&&300>Ge()-Jh?(Zt&2)===0&&ma(t,0):$h|=s,ha===kt&&(ha=0)),ci(t)}function Dp(t,n){n===0&&(n=Fa()),t=$r(t,n),t!==null&&(Si(t,n),ci(t))}function NE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Dp(t,s)}function OE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Dp(t,s)}function VE(t,n){return vi(t,n)}var Du=null,pa=null,lf=!1,Iu=!1,of=!1,vr=0;function ci(t){t!==pa&&t.next===null&&(pa===null?Du=pa=t:pa=pa.next=t),Iu=!0,lf||(lf=!0,ME())}function Ll(t,n){if(!of&&Iu){of=!0;do for(var s=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vp(l,f))}else f=kt,f=Or(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gs(l,f)||(s=!0,Vp(l,f));l=l.next}while(s);of=!1}}function xE(){Ip()}function Ip(){Iu=lf=!1;var t=0;vr!==0&&(qE()&&(t=vr),vr=0);for(var n=Ge(),s=null,l=Du;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,s===null?Du=c:s.next=c,c===null&&(pa=s)):(s=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ll(t)}function Np(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-me(f),E=1<<y,S=c[y];S===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Ha(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=ae,s=kt,s=Or(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Gs(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),Vr(s)){case 2:case 8:s=rt;break;case 32:s=ot;break;case 268435456:s=Nt;break;default:s=ot}return l=Op.bind(null,t),s=vi(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function Op(t,n){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Cu()&&t.callbackNode!==s)return null;var l=kt;return l=Or(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Np(t,Ge()),t.callbackNode!=null&&t.callbackNode===s?Op.bind(null,t):null)}function Vp(t,n){if(Cu())return null;dp(t,n,!0)}function ME(){GE(function(){(Zt&6)!==0?vi(J,xE):Ip()})}function uf(){return vr===0&&(vr=Ga()),vr}function xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Mp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function UE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=xp((c[Se]||null).action),y=l.submitter;y&&(n=(n=y[Se]||null)?xp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Br("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vr!==0){var S=y?Mp(c,y):new FormData(c);Dh(s,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Mp(c,y):new FormData(c),Dh(s,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var cf=0;cf<Qc.length;cf++){var hf=Qc[cf],LE=hf.toLowerCase(),PE=hf[0].toUpperCase()+hf.slice(1);qn(LE,"on"+PE)}qn(dm,"onAnimationEnd"),qn(mm,"onAnimationIteration"),qn(gm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(tE,"onTransitionRun"),qn(eE,"onTransitionStart"),qn(nE,"onTransitionCancel"),qn(pm,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Up(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,z=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){pu(G)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,z=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){pu(G)}c.currentTarget=null,f=S}}}}function Lt(t,n){var s=n[Ka];s===void 0&&(s=n[Ka]=new Set);var l=t+"__bubble";s.has(l)||(Lp(n,t,2,!1),s.add(l))}function ff(t,n,s){var l=0;n&&(l|=4),Lp(s,t,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[Nu]){t[Nu]=!0,Xa.forEach(function(s){s!=="selectionchange"&&(zE.has(s)||ff(s,!1,t),ff(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,ff("selectionchange",!1,n))}}function Lp(t,n,s,l){switch(ay(n)){case 2:var c=hT;break;case 8:c=fT;break;default:c=Cf}s=c.bind(null,n,s,t),c=void 0,!Cn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function mf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ri(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Vo(function(){var z=f,G=wn(s),Q=[];t:{var B=ym.get(t);if(B!==void 0){var j=Br,Tt=t;switch(t){case"keypress":if(ei(s)===0)break t;case"keydown":case"keyup":j=Fr;break;case"focusin":Tt="focus",j=qr;break;case"focusout":Tt="blur",j=qr;break;case"beforeblur":case"afterblur":j=qr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=jo;break;case dm:case mm:case gm:j=Hr;break;case pm:j=qo;break;case"scroll":case"scrollend":j=xo;break;case"wheel":j=Yr;break;case"copy":case"cut":case"paste":j=Gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ll;break;case"toggle":case"beforetoggle":j=Go}var yt=(n&4)!==0,ne=!yt&&(t==="scroll"||t==="scrollend"),M=yt?B!==null?B+"Capture":null:B;yt=[];for(var N=z,P;N!==null;){var F=N;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||M===null||(F=Js(N,M),F!=null&&yt.push(zl(N,F,P))),ne)break;N=N.return}0<yt.length&&(B=new j(B,Tt,null,s,G),Q.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&s!==Ii&&(Tt=s.relatedTarget||s.fromElement)&&(Ri(Tt)||Tt[Sn]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Tt=s.relatedTarget||s.toElement,j=z,Tt=Tt?Ri(Tt):null,Tt!==null&&(ne=h(Tt),yt=Tt.tag,Tt!==ne||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(j=null,Tt=z),j!==Tt)){if(yt=Dn,F="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(yt=ll,F="onPointerLeave",M="onPointerEnter",N="pointer"),ne=j==null?B:Zn(j),P=Tt==null?B:Zn(Tt),B=new yt(F,N+"leave",j,s,G),B.target=ne,B.relatedTarget=P,F=null,Ri(G)===z&&(yt=new yt(M,N+"enter",Tt,s,G),yt.target=P,yt.relatedTarget=ne,F=yt),ne=F,j&&Tt)e:{for(yt=j,M=Tt,N=0,P=yt;P;P=ya(P))N++;for(P=0,F=M;F;F=ya(F))P++;for(;0<N-P;)yt=ya(yt),N--;for(;0<P-N;)M=ya(M),P--;for(;N--;){if(yt===M||M!==null&&yt===M.alternate)break e;yt=ya(yt),M=ya(M)}yt=null}else yt=null;j!==null&&Pp(Q,B,j,yt,!1),Tt!==null&&ne!==null&&Pp(Q,ne,Tt,yt,!0)}}t:{if(B=z?Zn(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ut=nm;else if(xe(B))if(im)ut=Z0;else{ut=X0;var xt=K0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&tl(z.elementType)&&(ut=nm):ut=$0;if(ut&&(ut=ut(t,z))){Mi(Q,ut,s,G);break t}xt&&xt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&is(B,"number",B.value)}switch(xt=z?Zn(z):window,t){case"focusin":(xe(xt)||xt.contentEditable==="true")&&(Qr=xt,Gc=z,cl=null);break;case"focusout":cl=Gc=Qr=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,hm(Q,s,G);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":hm(Q,s,G)}var ht;if(si)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Bt?q(t,s)&&(_t="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(p&&s.locale!=="ko"&&(Bt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Bt&&(ht=nl()):(ti=G,ss="value"in ti?ti.value:ti.textContent,Bt=!0)),xt=Ou(z,_t),0<xt.length&&(_t=new rl(_t,t,null,s,G),Q.push({event:_t,listeners:xt}),ht?_t.data=ht:(ht=et(s),ht!==null&&(_t.data=ht)))),(ht=m?Ve(t,s):jt(t,s))&&(_t=Ou(z,"onBeforeInput"),0<_t.length&&(xt=new rl("onBeforeInput","beforeinput",null,s,G),Q.push({event:xt,listeners:_t}),xt.data=ht)),UE(Q,t,z,s,G)}Up(Q,n)})}function zl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ou(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Js(t,s),c!=null&&l.unshift(zl(t,c,f)),c=Js(t,n),c!=null&&l.push(zl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,S=E.alternate,z=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||z===null||(S=z,c?(z=Js(s,f),z!=null&&y.unshift(zl(s,z,S))):c||(z=Js(s,f),z!=null&&y.push(zl(s,z,S)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var BE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(BE,`
`).replace(jE,"")}function Bp(t,n){return n=zp(n),zp(t)===n}function Vu(){}function ee(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,s,l);break;case"style":Wa(t,l,f);break;case"data":if(n!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=zr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(t,n,"name",c.name,c,null),ee(t,n,"formEncType",c.formEncType,c,null),ee(t,n,"formMethod",c.formMethod,c,null),ee(t,n,"formTarget",c.formTarget,c,null)):(ee(t,n,"encType",c.encType,c,null),ee(t,n,"method",c.method,c,null),ee(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=zr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),ns(t,"popover",l);break;case"xlinkActuate":Fe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Pc.get(s)||s,ns(t,s,l))}}function gf(t,n,s,l,c,f){switch(s){case"style":Wa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Se]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ns(t,s,l)}}}function Xe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(t,n,f,y,s,null)}}c&&ee(t,n,"srcSet",s.srcSet,s,null),l&&ee(t,n,"src",s.src,s,null);return;case"input":Lt("invalid",t);var E=f=y=c=null,S=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":S=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ee(t,n,l,G,s,null)}}Xs(t,f,E,S,z,y,c,!1),Pr(t);return;case"select":Lt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:ee(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?Di(t,!!l,n,!1):s!=null&&Di(t,!!l,s,!0);return;case"textarea":Lt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(t,n,y,E,s,null)}$s(t,l,c,f),Pr(t);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(l=s[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,n,S,l,s,null)}return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Lt(Pl[l],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(t,n,z,l,s,null)}return;default:if(tl(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&gf(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ee(t,n,E,l,s,null))}function kE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,z=null,G=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=Q;default:l.hasOwnProperty(j)||ee(t,n,j,null,l,Q)}}for(var B in l){var j=l[B];if(Q=s[B],l.hasOwnProperty(B)&&(j!=null||Q!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":z=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&ee(t,n,B,j,l,Q)}}mn(t,y,E,S,z,G,f,c);return;case"select":j=y=E=B=null;for(f in s)if(S=s[f],s.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":j=S;default:l.hasOwnProperty(f)||ee(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=s[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&ee(t,n,c,f,l,S)}n=E,s=y,l=j,B!=null?Di(t,!!s,B,!1):!!l!=!!s&&(n!=null?Di(t,!!s,n,!0):Di(t,!!s,s?[]:"",!1));return;case"textarea":j=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ee(t,n,y,c,l,f)}Wt(t,B,j);return;case"option":for(var Tt in s)if(B=s[Tt],s.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:ee(t,n,Tt,null,l,B)}for(S in l)if(B=l[S],j=s[S],l.hasOwnProperty(S)&&B!==j&&(B!=null||j!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(t,n,S,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&ee(t,n,yt,null,l,B);for(z in l)if(B=l[z],j=s[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ee(t,n,z,B,l,j)}return;default:if(tl(n)){for(var ne in s)B=s[ne],s.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&gf(t,n,ne,void 0,l,B);for(G in l)B=l[G],j=s[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||gf(t,n,G,B,l,j);return}}for(var M in s)B=s[M],s.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&ee(t,n,M,null,l,B);for(Q in l)B=l[Q],j=s[Q],!l.hasOwnProperty(Q)||B===j||B==null&&j==null||ee(t,n,Q,B,l,j)}var pf=null,yf=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vf=null;function qE(){var t=window.event;return t&&t.type==="popstate"?t===vf?!1:(vf=t,!0):(vf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(FE)}:qp;function FE(t){setTimeout(function(){throw t})}function Es(t){return t==="head"}function Gp(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&Bl(y.documentElement),s&2&&Bl(y.body),s&4)for(s=y.head,Bl(s),y=s.firstChild;y;){var E=y.nextSibling,S=y.nodeName;y[Fs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ql(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Ql(n)}function Ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ef(s),es(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function YE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function QE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gn(t.nextSibling),t===null))return null;return t}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function KE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Af=null;function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Yp(t,n,s){switch(n=xu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);es(t)}var Un=new Map,Qp=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=nt.d;nt.d={f:XE,r:$E,D:ZE,C:JE,L:WE,m:tT,X:nT,S:eT,M:iT};function XE(){var t=Qi.f(),n=Ru();return t||n}function $E(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):Qi.r(t)}var _a=typeof document>"u"?null:document;function Kp(t,n,s){var l=_a;if(l&&typeof n=="string"&&n){var c=Re(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Xe(n,"link",t),ve(n),l.head.appendChild(n)))}}function ZE(t){Qi.D(t),Kp("dns-prefetch",t,null)}function JE(t,n){Qi.C(t,n),Kp("preconnect",t,n)}function WE(t,n,s){Qi.L(t,n,s);var l=_a;if(l&&t&&n){var c='link[rel="preload"][as="'+Re(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Re(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Re(s.imageSizes)+'"]')):c+='[href="'+Re(t)+'"]';var f=c;switch(n){case"style":f=va(t);break;case"script":f=Ea(t)}Un.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Un.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),Xe(n,"link",t),ve(n),l.head.appendChild(n)))}}function tT(t,n){Qi.m(t,n);var s=_a;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Re(l)+'"][href="'+Re(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ea(t)}if(!Un.has(f)&&(t=A({rel:"modulepreload",href:t},n),Un.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(f)))return}l=s.createElement("link"),Xe(l,"link",t),ve(l),s.head.appendChild(l)}}}function eT(t,n,s){Qi.S(t,n,s);var l=_a;if(l&&t){var c=an(l).hoistableStyles,f=va(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(jl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Un.get(f))&&bf(t,s);var S=y=l.createElement("link");ve(S),Xe(S,"link",t),S._p=new Promise(function(z,G){S.onload=z,S.onerror=G}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Uu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function nT(t,n){Qi.X(t,n);var s=_a;if(s&&t){var l=an(s).hoistableScripts,c=Ea(t),f=l.get(c);f||(f=s.querySelector(kl(c)),f||(t=A({src:t,async:!0},n),(n=Un.get(c))&&Sf(t,n),f=s.createElement("script"),ve(f),Xe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iT(t,n){Qi.M(t,n);var s=_a;if(s&&t){var l=an(s).hoistableScripts,c=Ea(t),f=l.get(c);f||(f=s.querySelector(kl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Un.get(c))&&Sf(t,n),f=s.createElement("script"),ve(f),Xe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xp(t,n,s,l){var c=(c=Et.current)?Mu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=va(s.href),s=an(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=va(s.href);var f=an(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(jl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),f||sT(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ea(s),s=an(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function va(t){return'href="'+Re(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function $p(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function sT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xe(n,"link",s),ve(n),t.head.appendChild(n))}function Ea(t){return'[src="'+Re(t)+'"]'}function kl(t){return"script[async]"+t}function Zp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Re(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),Xe(l,"style",c),Uu(l,s.precedence,t),n.instance=l;case"stylesheet":c=va(s.href);var f=t.querySelector(jl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=$p(s),(c=Un.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Xe(f,"link",l),n.state.loading|=4,Uu(f,s.precedence,t),n.instance=f;case"script":return f=Ea(s.src),(c=t.querySelector(kl(f)))?(n.instance=c,ve(c),c):(l=s,(c=Un.get(f))&&(l=A({},s),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),Xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Uu(l,s.precedence,t));return n.instance}function Uu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function Jp(t,n,s){if(Lu===null){var l=new Map,c=Lu=new Map;c.set(s,l)}else c=Lu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Fs]||f[Oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Wp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function rT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function aT(){}function lT(t,n,s){if(ql===null)throw Error(a(475));var l=ql;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=va(s.href),f=t.querySelector(jl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ve(f);return}f=t.ownerDocument||t,s=$p(s),(c=Un.get(c))&&bf(s,c),f=f.createElement("link"),ve(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Xe(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function oT(){if(ql===null)throw Error(a(475));var t=ql;return t.stylesheets&&t.count===0&&Rf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(uT,t),zu=null,Pu.call(t))}function uT(t,n){if(!(n.state.loading&4)){var s=zu.get(t);if(s)var l=s.get(null);else{s=new Map,zu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function cT(t,n,s,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ey(t,n,s,l,c,f,y,E,S,z,G,Q){return t=new cT(t,n,s,y,E,S,z,Q),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},uh(f),t}function ny(t){return t?(t=Zr,t):Zr}function iy(t,n,s,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=ls(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=os(t,l,n),s!==null&&(Tn(s,t,n),vl(s,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function wf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ry(t){if(t.tag===13){var n=$r(t,67108864);n!==null&&Tn(n,t,67108864),wf(t,67108864)}}var Bu=!0;function hT(t,n,s,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Cf(t,n,s,l)}finally{nt.p=f,H.T=c}}function fT(t,n,s,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Cf(t,n,s,l)}finally{nt.p=f,H.T=c}}function Cf(t,n,s,l){if(Bu){var c=Df(l);if(c===null)mf(t,n,l,ju,s),ly(t,l);else if(mT(c,t,n,s,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<dT.indexOf(t)){for(;c!==null;){var f=$n(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Bn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-me(y);E.entanglements[1]|=S,y&=~S}ci(f),(Zt&6)===0&&(bu=Ge()+500,Ll(0))}}break;case 13:E=$r(f,2),E!==null&&Tn(E,f,2),Ru(),wf(f,2)}if(f=Df(l),f===null&&mf(t,n,l,ju,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else mf(t,n,l,null,s)}}function Df(t){return t=wn(t),If(t)}var ju=null;function If(t){if(ju=null,t=Ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ju=t,null}function ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qs()){case J:return 2;case rt:return 8;case ot:case It:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var Nf=!1,Ts=null,As=null,bs=null,Gl=new Map,Fl=new Map,Ss=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Yl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=$n(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function mT(t,n,s,l,c){switch(n){case"focusin":return Ts=Yl(Ts,t,n,s,l,c),!0;case"dragenter":return As=Yl(As,t,n,s,l,c),!0;case"mouseover":return bs=Yl(bs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Yl(Gl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Fl.set(f,Yl(Fl.get(f)||null,t,n,s,l,c)),!0}return!1}function oy(t){var n=Ri(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Ro(t.priority,function(){if(s.tag===13){var l=En();l=Ji(l);var c=$r(s,l);c!==null&&Tn(c,s,l),wf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Df(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ii=l,s.target.dispatchEvent(l),Ii=null}else return n=$n(s),n!==null&&ry(n),t.blockedOn=s,!1;n.shift()}return!0}function uy(t,n,s){ku(t)&&s.delete(n)}function gT(){Nf=!1,Ts!==null&&ku(Ts)&&(Ts=null),As!==null&&ku(As)&&(As=null),bs!==null&&ku(bs)&&(bs=null),Gl.forEach(uy),Fl.forEach(uy)}function qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gT)))}var Hu=null;function cy(t){Hu!==t&&(Hu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(If(l||s)===null)continue;break}var f=$n(s);f!==null&&(t.splice(n,3),n-=3,Dh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ql(t){function n(S){return qu(S,t)}Ts!==null&&qu(Ts,t),As!==null&&qu(As,t),bs!==null&&qu(bs,t),Gl.forEach(n),Fl.forEach(n);for(var s=0;s<Ss.length;s++){var l=Ss[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ss.length&&(s=Ss[0],s.blockedOn===null);)oy(s),s.blockedOn===null&&Ss.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[Se]||null;if(typeof f=="function")y||cy(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Se]||null)E=y.formAction;else if(If(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),cy(s)}}}function Of(t){this._internalRoot=t}Gu.prototype.render=Of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();iy(s,l,t,n,null,null)},Gu.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),Ru(),n[Sn]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ss.length&&n!==0&&n<Ss[s].priority;s++);Ss.splice(s,0,t),s===0&&oy(t)}};var hy=e.version;if(hy!=="19.1.0")throw Error(a(527,hy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var pT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Rt=Fu.inject(pT),ft=Fu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Cg,f=Dg,y=Ig,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ey(t,1,!1,null,null,s,l,c,f,y,E,null),t[Sn]=n.current,df(t),new Of(n)},Xl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Cg,y=Dg,E=Ig,S=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=ey(t,1,!0,n,s??null,l,c,f,y,E,S,z),n.context=ny(null),s=n.current,l=En(),l=Ji(l),c=ls(l),c.callback=null,os(s,c,l),s=l,n.current.lanes=s,Si(n,s),ci(n),t[Sn]=n.current,df(t),new Gu(n)},Xl.version="19.1.0",Xl}var Ty;function CT(){if(Ty)return Mf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=wT(),Mf.exports}var DT=CT();const IT=tv(DT);var Ay;(function(r){r.STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object"})(Ay||(Ay={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by;(function(r){r.LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python"})(by||(by={}));var Sy;(function(r){r.OUTCOME_UNSPECIFIED="outcome_unspecified",r.OUTCOME_OK="outcome_ok",r.OUTCOME_FAILED="outcome_failed",r.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=["user","model","function","system"];var wy;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wy||(wy={}));var Cy;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(Cy||(Cy={}));var Dy;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(Dy||(Dy={}));var Iy;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER"})(Iy||(Iy={}));var Wl;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.OTHER="OTHER"})(Wl||(Wl={}));var Ny;(function(r){r.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING"})(Ny||(Ny={}));var Oy;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(Oy||(Oy={}));var Vy;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(Vy||(Vy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ta extends rn{constructor(e,i){super(e),this.response=i}}class ev extends rn{constructor(e,i,a,o){super(e),this.status=i,this.statusText=a,this.errorDetails=o}}class Is extends rn{}class nv extends rn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="https://generativelanguage.googleapis.com",OT="v1beta",VT="0.24.1",xT="genai-js";var Ar;(function(r){r.GENERATE_CONTENT="generateContent",r.STREAM_GENERATE_CONTENT="streamGenerateContent",r.COUNT_TOKENS="countTokens",r.EMBED_CONTENT="embedContent",r.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ar||(Ar={}));class MT{constructor(e,i,a,o,h){this.model=e,this.task=i,this.apiKey=a,this.stream=o,this.requestOptions=h}toString(){var e,i;const a=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||OT;let h=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||NT}/${a}/${this.model}:${this.task}`;return this.stream&&(h+="?alt=sse"),h}}function UT(r){const e=[];return r?.apiClient&&e.push(r.apiClient),e.push(`${xT}/${VT}`),e.join(" ")}async function LT(r){var e;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",UT(r.requestOptions)),i.append("x-goog-api-key",r.apiKey);let a=(e=r.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(o){throw new Is(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${o.message}`)}for(const[o,h]of a.entries()){if(o==="x-goog-api-key")throw new Is(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Is(`Header name ${o} can only be set using the apiClient field`);i.append(o,h)}}return i}async function PT(r,e,i,a,o,h){const d=new MT(r,e,i,a,h);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},kT(h)),{method:"POST",headers:await LT(d),body:o})}}async function vo(r,e,i,a,o,h={},d=fetch){const{url:g,fetchOptions:_}=await PT(r,e,i,a,o,h);return zT(g,_,d)}async function zT(r,e,i=fetch){let a;try{a=await i(r,e)}catch(o){BT(o,r)}return a.ok||await jT(a,r),a}function BT(r,e){let i=r;throw i.name==="AbortError"?(i=new nv(`Request aborted when fetching ${e.toString()}: ${r.message}`),i.stack=r.stack):r instanceof ev||r instanceof Is||(i=new rn(`Error fetching from ${e.toString()}: ${r.message}`),i.stack=r.stack),i}async function jT(r,e){let i="",a;try{const o=await r.json();i=o.error.message,o.error.details&&(i+=` ${JSON.stringify(o.error.details)}`,a=o.error.details)}catch{}throw new ev(`Error fetching from ${e.toString()}: [${r.status} ${r.statusText}] ${i}`,r.status,r.statusText,a)}function kT(r){const e={};if(r?.signal!==void 0||r?.timeout>=0){const i=new AbortController;r?.timeout>=0&&setTimeout(()=>i.abort(),r.timeout),r?.signal&&r.signal.addEventListener("abort",()=>{i.abort()}),e.signal=i.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(r){return r.text=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ju(r.candidates[0]))throw new Ta(`${Cs(r)}`,r);return qT(r)}else if(r.promptFeedback)throw new Ta(`Text not available. ${Cs(r)}`,r);return""},r.functionCall=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ju(r.candidates[0]))throw new Ta(`${Cs(r)}`,r);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),xy(r)[0]}else if(r.promptFeedback)throw new Ta(`Function call not available. ${Cs(r)}`,r)},r.functionCalls=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ju(r.candidates[0]))throw new Ta(`${Cs(r)}`,r);return xy(r)}else if(r.promptFeedback)throw new Ta(`Function call not available. ${Cs(r)}`,r)},r}function qT(r){var e,i,a,o;const h=[];if(!((i=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(a=r.candidates)===null||a===void 0?void 0:a[0].content)===null||o===void 0?void 0:o.parts)d.text&&h.push(d.text),d.executableCode&&h.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&h.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return h.length>0?h.join(""):""}function xy(r){var e,i,a,o;const h=[];if(!((i=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(a=r.candidates)===null||a===void 0?void 0:a[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&h.push(d.functionCall);if(h.length>0)return h}const HT=[Wl.RECITATION,Wl.SAFETY,Wl.LANGUAGE];function Ju(r){return!!r.finishReason&&HT.includes(r.finishReason)}function Cs(r){var e,i,a;let o="";if((!r.candidates||r.candidates.length===0)&&r.promptFeedback)o+="Response was blocked",!((e=r.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${r.promptFeedback.blockReason}`),!((i=r.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(o+=`: ${r.promptFeedback.blockReasonMessage}`);else if(!((a=r.candidates)===null||a===void 0)&&a[0]){const h=r.candidates[0];Ju(h)&&(o+=`Candidate was blocked due to ${h.finishReason}`,h.finishMessage&&(o+=`: ${h.finishMessage}`))}return o}function ro(r){return this instanceof ro?(this.v=r,this):new ro(r)}function GT(r,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,e||[]),o,h=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(C){a[C]&&(o[C]=function(k){return new Promise(function(X,it){h.push([C,k,X,it])>1||g(C,k)})})}function g(C,k){try{_(a[C](k))}catch(X){I(h[0][3],X)}}function _(C){C.value instanceof ro?Promise.resolve(C.value.v).then(v,A):I(h[0][2],C)}function v(C){g("next",C)}function A(C){g("throw",C)}function I(C,k){C(k),h.shift(),h.length&&g(h[0][0],h[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function FT(r){const e=r.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=KT(e),[a,o]=i.tee();return{stream:QT(a),response:YT(o)}}async function YT(r){const e=[],i=r.getReader();for(;;){const{done:a,value:o}=await i.read();if(a)return yd(XT(e));e.push(o)}}function QT(r){return GT(this,arguments,function*(){const i=r.getReader();for(;;){const{value:a,done:o}=yield ro(i.read());if(o)break;yield yield ro(yd(a))}})}function KT(r){const e=r.getReader();return new ReadableStream({start(a){let o="";return h();function h(){return e.read().then(({value:d,done:g})=>{if(g){if(o.trim()){a.error(new rn("Failed to parse stream"));return}a.close();return}o+=d;let _=o.match(My),v;for(;_;){try{v=JSON.parse(_[1])}catch{a.error(new rn(`Error parsing JSON response: "${_[1]}"`));return}a.enqueue(v),o=o.substring(_[0].length),_=o.match(My)}return h()}).catch(d=>{let g=d;throw g.stack=d.stack,g.name==="AbortError"?g=new nv("Request aborted when reading from the stream"):g=new rn("Error reading from the stream"),g})}}})}function XT(r){const e=r[r.length-1],i={promptFeedback:e?.promptFeedback};for(const a of r){if(a.candidates){let o=0;for(const h of a.candidates)if(i.candidates||(i.candidates=[]),i.candidates[o]||(i.candidates[o]={index:o}),i.candidates[o].citationMetadata=h.citationMetadata,i.candidates[o].groundingMetadata=h.groundingMetadata,i.candidates[o].finishReason=h.finishReason,i.candidates[o].finishMessage=h.finishMessage,i.candidates[o].safetyRatings=h.safetyRatings,h.content&&h.content.parts){i.candidates[o].content||(i.candidates[o].content={role:h.content.role||"user",parts:[]});const d={};for(const g of h.content.parts)g.text&&(d.text=g.text),g.functionCall&&(d.functionCall=g.functionCall),g.executableCode&&(d.executableCode=g.executableCode),g.codeExecutionResult&&(d.codeExecutionResult=g.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),i.candidates[o].content.parts.push(d)}o++}a.usageMetadata&&(i.usageMetadata=a.usageMetadata)}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(r,e,i,a){const o=await vo(e,Ar.STREAM_GENERATE_CONTENT,r,!0,JSON.stringify(i),a);return FT(o)}async function sv(r,e,i,a){const h=await(await vo(e,Ar.GENERATE_CONTENT,r,!1,JSON.stringify(i),a)).json();return{response:yd(h)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r){if(r!=null){if(typeof r=="string")return{role:"system",parts:[{text:r}]};if(r.text)return{role:"system",parts:[r]};if(r.parts)return r.role?r:{role:"system",parts:r.parts}}}function ao(r){let e=[];if(typeof r=="string")e=[{text:r}];else for(const i of r)typeof i=="string"?e.push({text:i}):e.push(i);return $T(e)}function $T(r){const e={role:"user",parts:[]},i={role:"function",parts:[]};let a=!1,o=!1;for(const h of r)"functionResponse"in h?(i.parts.push(h),o=!0):(e.parts.push(h),a=!0);if(a&&o)throw new rn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!o)throw new rn("No content is provided for sending chat message.");return a?e:i}function ZT(r,e){var i;let a={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(i=e?.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const o=r.generateContentRequest!=null;if(r.contents){if(o)throw new Is("CountTokensRequest must have one of contents or generateContentRequest, not both.");a.contents=r.contents}else if(o)a=Object.assign(Object.assign({},a),r.generateContentRequest);else{const h=ao(r);a.contents=[h]}return{generateContentRequest:a}}function Uy(r){let e;return r.contents?e=r:e={contents:[ao(r)]},r.systemInstruction&&(e.systemInstruction=rv(r.systemInstruction)),e}function JT(r){return typeof r=="string"||Array.isArray(r)?{content:ao(r)}:r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],WT={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tA(r){let e=!1;for(const i of r){const{role:a,parts:o}=i;if(!e&&a!=="user")throw new rn(`First content should be with role 'user', got ${a}`);if(!Ry.includes(a))throw new rn(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(Ry)}`);if(!Array.isArray(o))throw new rn("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new rn("Each Content should have at least one part");const h={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of o)for(const _ of Ly)_ in g&&(h[_]+=1);const d=WT[a];for(const g of Ly)if(!d.includes(g)&&h[g]>0)throw new rn(`Content with role '${a}' can't contain '${g}' part`);e=!0}}function Py(r){var e;if(r.candidates===void 0||r.candidates.length===0)return!1;const i=(e=r.candidates[0])===null||e===void 0?void 0:e.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const a of i.parts)if(a===void 0||Object.keys(a).length===0||a.text!==void 0&&a.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="SILENT_ERROR";class eA{constructor(e,i,a,o={}){this.model=i,this.params=a,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,a?.history&&(tA(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,i={}){var a,o,h,d,g,_;await this._sendPromise;const v=ao(e),A={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(h=this.params)===null||h===void 0?void 0:h.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,v]},I=Object.assign(Object.assign({},this._requestOptions),i);let C;return this._sendPromise=this._sendPromise.then(()=>sv(this._apiKey,this.model,A,I)).then(k=>{var X;if(Py(k.response)){this._history.push(v);const it=Object.assign({parts:[],role:"model"},(X=k.response.candidates)===null||X===void 0?void 0:X[0].content);this._history.push(it)}else{const it=Cs(k.response);it&&console.warn(`sendMessage() was unsuccessful. ${it}. Inspect response object for details.`)}C=k}).catch(k=>{throw this._sendPromise=Promise.resolve(),k}),await this._sendPromise,C}async sendMessageStream(e,i={}){var a,o,h,d,g,_;await this._sendPromise;const v=ao(e),A={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(h=this.params)===null||h===void 0?void 0:h.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,v]},I=Object.assign(Object.assign({},this._requestOptions),i),C=iv(this._apiKey,this.model,A,I);return this._sendPromise=this._sendPromise.then(()=>C).catch(k=>{throw new Error(zy)}).then(k=>k.response).then(k=>{if(Py(k)){this._history.push(v);const X=Object.assign({},k.candidates[0].content);X.role||(X.role="model"),this._history.push(X)}else{const X=Cs(k);X&&console.warn(`sendMessageStream() was unsuccessful. ${X}. Inspect response object for details.`)}}).catch(k=>{k.message!==zy&&console.error(k)}),C}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(r,e,i,a){return(await vo(e,Ar.COUNT_TOKENS,r,!1,JSON.stringify(i),a)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(r,e,i,a){return(await vo(e,Ar.EMBED_CONTENT,r,!1,JSON.stringify(i),a)).json()}async function sA(r,e,i,a){const o=i.requests.map(d=>Object.assign(Object.assign({},d),{model:e}));return(await vo(e,Ar.BATCH_EMBED_CONTENTS,r,!1,JSON.stringify({requests:o}),a)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,i,a={}){this.apiKey=e,this._requestOptions=a,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=rv(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(e,i={}){var a;const o=Uy(e),h=Object.assign(Object.assign({},this._requestOptions),i);return sv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},o),h)}async generateContentStream(e,i={}){var a;const o=Uy(e),h=Object.assign(Object.assign({},this._requestOptions),i);return iv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},o),h)}startChat(e){var i;return new eA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},e),this._requestOptions)}async countTokens(e,i={}){const a=ZT(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),i);return nA(this.apiKey,this.model,a,o)}async embedContent(e,i={}){const a=JT(e),o=Object.assign(Object.assign({},this._requestOptions),i);return iA(this.apiKey,this.model,a,o)}async batchEmbedContents(e,i={}){const a=Object.assign(Object.assign({},this._requestOptions),i);return sA(this.apiKey,this.model,e,a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.apiKey=e}getGenerativeModel(e,i){if(!e.model)throw new rn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new By(this.apiKey,e,i)}getGenerativeModelFromCachedContent(e,i,a){if(!e.name)throw new Is("Cached content must contain a `name` field.");if(!e.model)throw new Is("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(i?.[d]&&e[d]&&i?.[d]!==e[d]){if(d==="model"){const g=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,_=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(g===_)continue}throw new Is(`Different value for "${d}" specified in modelParams (${i[d]}) and cachedContent (${e[d]})`)}const h=Object.assign(Object.assign({},i),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new By(this.apiKey,h,a)}}const rA=()=>{};var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},aA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let C=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(C=64)),a.push(i[A],i[I],i[C],i[k])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const I=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||I==null)throw new lA;const C=h<<2|g>>4;if(a.push(C),v!==64){const k=g<<4&240|v>>2;if(a.push(k),I!==64){const X=v<<6&192|I;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(r){const e=av(r);return lv.encodeByteArray(e,!0)},ac=function(r){return oA(r).replace(/\./g,"")},uA=function(r){try{return lv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof ky>"u")return;const r=ky.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uA(r[1]);return e&&JSON.parse(e)},_d=()=>{try{return rA()||hA()||fA()||dA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mA=r=>{var e,i;return(i=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},gA=r=>{const e=mA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},ov=()=>{var r;return(r=_d())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const to={};function vA(){const r={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?r.emulator.push(e):r.prod.push(e);return r}function EA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let qy=!1;function TA(r,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||to[r]===e||to[r]||qy)return;to[r]=e;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",h=vA().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{qy=!0,d()},C}function A(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=EA(a),k=i("text"),X=document.getElementById(k)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),Dt=i("preprendIcon"),dt=document.getElementById(Dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const mt=C.element;g(mt),A(tt,it);const Mt=v();_(dt,Dt),mt.append(dt,X,tt,Mt),document.body.appendChild(mt)}h?(X.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){var r;const e=(r=_d())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="FirebaseError";class Pa extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=CA,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uv.prototype.create)}}class uv{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?DA(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Pa(o,g,a)}}function DA(r,e){return r.replace(IA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const IA=/\{\$([^}]+)}/g;function lc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Hy(h)&&Hy(d)){if(!lc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Hy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(r){return r&&r._delegate?r._delegate:r}class lo{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new pA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(r){return r===Er?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const MA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},UA=Ht.INFO,LA={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},PA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=LA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const zA=(r,e)=>e.some(i=>r instanceof i);let Gy,Fy;function BA(){return Gy||(Gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hv=new WeakMap,Qf=new WeakMap,fv=new WeakMap,zf=new WeakMap,Ed=new WeakMap;function kA(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ns(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&hv.set(i,r)}).catch(()=>{}),Ed.set(e,r),e}function qA(r){if(Qf.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Qf.set(r,e)}let Kf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Qf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ns(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HA(r){Kf=r(Kf)}function GA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Bf(this),e,...i);return fv.set(a,e.sort?e.sort():[e]),Ns(a)}:jA().includes(r)?function(...e){return r.apply(Bf(this),e),Ns(hv.get(this))}:function(...e){return Ns(r.apply(Bf(this),e))}}function FA(r){return typeof r=="function"?GA(r):(r instanceof IDBTransaction&&qA(r),zA(r,BA())?new Proxy(r,Kf):r)}function Ns(r){if(r instanceof IDBRequest)return kA(r);if(zf.has(r))return zf.get(r);const e=FA(r);return e!==r&&(zf.set(r,e),Ed.set(e,r)),e}const Bf=r=>Ed.get(r);function YA(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Ns(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ns(d.result),_.oldVersion,_.newVersion,Ns(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const QA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],jf=new Map;function Yy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=KA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||QA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return jf.set(e,h),h}HA(r=>({...r,get:(e,i,a)=>Yy(e,i)||r.get(e,i,a),has:(e,i)=>!!Yy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($A(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $A(r){const e=r.getComponent();return e?.type==="VERSION"}const Xf="@firebase/app",Qy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new cv("@firebase/app"),ZA="@firebase/app-compat",JA="@firebase/analytics-compat",WA="@firebase/analytics",t1="@firebase/app-check-compat",e1="@firebase/app-check",n1="@firebase/auth",i1="@firebase/auth-compat",s1="@firebase/database",r1="@firebase/data-connect",a1="@firebase/database-compat",l1="@firebase/functions",o1="@firebase/functions-compat",u1="@firebase/installations",c1="@firebase/installations-compat",h1="@firebase/messaging",f1="@firebase/messaging-compat",d1="@firebase/performance",m1="@firebase/performance-compat",g1="@firebase/remote-config",p1="@firebase/remote-config-compat",y1="@firebase/storage",_1="@firebase/storage-compat",v1="@firebase/firestore",E1="@firebase/ai",T1="@firebase/firestore-compat",A1="firebase",b1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",S1={[Xf]:"fire-core",[ZA]:"fire-core-compat",[WA]:"fire-analytics",[JA]:"fire-analytics-compat",[e1]:"fire-app-check",[t1]:"fire-app-check-compat",[n1]:"fire-auth",[i1]:"fire-auth-compat",[s1]:"fire-rtdb",[r1]:"fire-data-connect",[a1]:"fire-rtdb-compat",[l1]:"fire-fn",[o1]:"fire-fn-compat",[u1]:"fire-iid",[c1]:"fire-iid-compat",[h1]:"fire-fcm",[f1]:"fire-fcm-compat",[d1]:"fire-perf",[m1]:"fire-perf-compat",[g1]:"fire-rc",[p1]:"fire-rc-compat",[y1]:"fire-gcs",[_1]:"fire-gcs-compat",[v1]:"fire-fst",[T1]:"fire-fst-compat",[E1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,R1=new Map,Zf=new Map;function Ky(r,e){try{r.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function uc(r){const e=r.name;if(Zf.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,r);for(const i of oc.values())Ky(i,r);for(const i of R1.values())Ky(i,r);return!0}function w1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function C1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new uv("app","Firebase",D1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=b1;function dv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:$f,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Os.create("bad-app-name",{appName:String(o)});if(i||(i=ov()),!i)throw Os.create("no-options");const h=oc.get(o);if(h){if(lc(i,h.options)&&lc(a,h.config))return h;throw Os.create("duplicate-app",{appName:o})}const d=new xA(o);for(const _ of Zf.values())d.addComponent(_);const g=new I1(i,a,d);return oc.set(o,g),g}function O1(r=$f){const e=oc.get(r);if(!e&&r===$f&&ov())return dv();if(!e)throw Os.create("no-app",{appName:r});return e}function Ca(r,e,i){var a;let o=(a=S1[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(g.join(" "));return}uc(new lo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebase-heartbeat-database",x1=1,oo="firebase-heartbeat-store";let kf=null;function mv(){return kf||(kf=YA(V1,x1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Os.create("idb-open",{originalErrorMessage:r.message})})),kf}async function M1(r){try{const i=(await mv()).transaction(oo),a=await i.objectStore(oo).get(gv(r));return await i.done,a}catch(e){if(e instanceof Pa)Ki.warn(e.message);else{const i=Os.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(i.message)}}}async function Xy(r,e){try{const a=(await mv()).transaction(oo,"readwrite");await a.objectStore(oo).put(e,gv(r)),await a.done}catch(i){if(i instanceof Pa)Ki.warn(i.message);else{const a=Os.create("idb-set",{originalErrorMessage:i?.message});Ki.warn(a.message)}}}function gv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1024,L1=30;class P1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new B1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=$y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>L1){const d=j1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ki.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$y(),{heartbeatsToSend:a,unsentEntries:o}=z1(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ki.warn(i),""}}}function $y(){return new Date().toISOString().substring(0,10)}function z1(r,e=U1){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Zy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await M1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Zy(r){return ac(JSON.stringify({version:2,heartbeats:r})).length}function j1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(r){uc(new lo("platform-logger",e=>new XA(e),"PRIVATE")),uc(new lo("heartbeat",e=>new P1(e),"PRIVATE")),Ca(Xf,Qy,r),Ca(Xf,Qy,"esm2017"),Ca("fire-js","")}k1("");var q1="firebase",H1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca(q1,H1,"app");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,pv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function w(){}w.prototype=b.prototype,V.D=b.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(O,x,U){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return b.prototype[x].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)O[x]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(x=0;16>x;++x)O[x]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=V.g[0],w=V.g[1],x=V.g[2];var U=V.g[3],R=b+(U^w&(x^U))+O[0]+3614090360&4294967295;b=w+(R<<7&4294967295|R>>>25),R=U+(x^b&(w^x))+O[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(w^U&(b^w))+O[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(b^x&(U^b))+O[3]+3250441966&4294967295,w=x+(R<<22&4294967295|R>>>10),R=b+(U^w&(x^U))+O[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(x^b&(w^x))+O[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(w^U&(b^w))+O[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(b^x&(U^b))+O[7]+4249261313&4294967295,w=x+(R<<22&4294967295|R>>>10),R=b+(U^w&(x^U))+O[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(x^b&(w^x))+O[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(w^U&(b^w))+O[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(b^x&(U^b))+O[11]+2304563134&4294967295,w=x+(R<<22&4294967295|R>>>10),R=b+(U^w&(x^U))+O[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(x^b&(w^x))+O[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(w^U&(b^w))+O[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(b^x&(U^b))+O[15]+1236535329&4294967295,w=x+(R<<22&4294967295|R>>>10),R=b+(x^U&(w^x))+O[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(b^w))+O[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^w&(U^b))+O[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(x^U))+O[0]+3921069994&4294967295,w=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(w^x))+O[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(b^w))+O[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^w&(U^b))+O[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(x^U))+O[4]+3889429448&4294967295,w=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(w^x))+O[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(b^w))+O[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^w&(U^b))+O[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(x^U))+O[8]+1163531501&4294967295,w=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(w^x))+O[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(b^w))+O[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^w&(U^b))+O[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(x^U))+O[12]+2368359562&4294967295,w=x+(R<<20&4294967295|R>>>12),R=b+(w^x^U)+O[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^x)+O[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^w)+O[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^b)+O[14]+4259657740&4294967295,w=x+(R<<23&4294967295|R>>>9),R=b+(w^x^U)+O[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^x)+O[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^w)+O[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^b)+O[10]+3200236656&4294967295,w=x+(R<<23&4294967295|R>>>9),R=b+(w^x^U)+O[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^x)+O[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^w)+O[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^b)+O[6]+76029189&4294967295,w=x+(R<<23&4294967295|R>>>9),R=b+(w^x^U)+O[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^x)+O[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^w)+O[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^b)+O[2]+3299628645&4294967295,w=x+(R<<23&4294967295|R>>>9),R=b+(x^(w|~U))+O[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~x))+O[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~w))+O[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~b))+O[5]+4237533241&4294967295,w=x+(R<<21&4294967295|R>>>11),R=b+(x^(w|~U))+O[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~x))+O[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~w))+O[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~b))+O[1]+2240044497&4294967295,w=x+(R<<21&4294967295|R>>>11),R=b+(x^(w|~U))+O[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~x))+O[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~w))+O[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~b))+O[13]+1309151649&4294967295,w=x+(R<<21&4294967295|R>>>11),R=b+(x^(w|~U))+O[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~x))+O[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~w))+O[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~b))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+U&4294967295}a.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var w=b-this.blockSize,O=this.B,x=this.h,U=0;U<b;){if(x==0)for(;U<=w;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<b;)if(O[x++]=V.charCodeAt(U++),x==this.blockSize){o(this,O),x=0;break}}else for(;U<b;)if(O[x++]=V[U++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=b},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var w=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=w&255,w/=256;for(this.u(V),V=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)V[w++]=this.g[b]>>>O&255;return V};function h(V,b){var w=g;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=b(V)}function d(V,b){this.h=b;for(var w=[],O=!0,x=V.length-1;0<=x;x--){var U=V[x]|0;O&&U==b||(w[x]=U,O=!1)}this.g=w}var g={};function _(V){return-128<=V&&128>V?h(V,function(b){return new d([b|0],0>b?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return tt(v(-V));for(var b=[],w=1,O=0;V>=w;O++)b[O]=V/w|0,w*=4294967296;return new d(b,0)}function A(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return tt(A(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(b,8)),O=I,x=0;x<V.length;x+=8){var U=Math.min(8,V.length-x),R=parseInt(V.substring(x,x+U),b);8>U?(U=v(Math.pow(b,U)),O=O.j(U).add(v(R))):(O=O.j(w),O=O.add(v(R)))}return O}var I=_(0),C=_(1),k=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();for(var V=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);V+=(0<=O?O:4294967296+O)*b,b*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(it(this))return"-"+tt(this).toString(V);for(var b=v(Math.pow(V,6)),w=this,O="";;){var x=Mt(w,b).g;w=Dt(w,x.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=x,X(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function it(V){return V.h==-1}r.l=function(V){return V=Dt(this,V),it(V)?-1:X(V)?0:1};function tt(V){for(var b=V.g.length,w=[],O=0;O<b;O++)w[O]=~V.g[O];return new d(w,~V.h).add(C)}r.abs=function(){return it(this)?tt(this):this},r.add=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0,x=0;x<=b;x++){var U=O+(this.i(x)&65535)+(V.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);O=R>>>16,U&=65535,R&=65535,w[x]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(V,b){return V.add(tt(b))}r.j=function(V){if(X(this)||X(V))return I;if(it(this))return it(V)?tt(this).j(tt(V)):tt(tt(this).j(V));if(it(V))return tt(this.j(tt(V)));if(0>this.l(k)&&0>V.l(k))return v(this.m()*V.m());for(var b=this.g.length+V.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<V.g.length;x++){var U=this.i(O)>>>16,R=this.i(O)&65535,de=V.i(x)>>>16,Qt=V.i(x)&65535;w[2*O+2*x]+=R*Qt,dt(w,2*O+2*x),w[2*O+2*x+1]+=U*Qt,dt(w,2*O+2*x+1),w[2*O+2*x+1]+=R*de,dt(w,2*O+2*x+1),w[2*O+2*x+2]+=U*de,dt(w,2*O+2*x+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new d(w,0)};function dt(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function mt(V,b){this.g=V,this.h=b}function Mt(V,b){if(X(b))throw Error("division by zero");if(X(V))return new mt(I,I);if(it(V))return b=Mt(tt(V),b),new mt(tt(b.g),tt(b.h));if(it(b))return b=Mt(V,tt(b)),new mt(tt(b.g),b.h);if(30<V.g.length){if(it(V)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=b;0>=O.l(V);)w=At(w),O=At(O);var x=zt(w,1),U=zt(O,1);for(O=zt(O,2),w=zt(w,2);!X(O);){var R=U.add(O);0>=R.l(V)&&(x=x.add(w),U=R),O=zt(O,1),w=zt(w,1)}return b=Dt(V,x.j(b)),new mt(x,b)}for(x=I;0<=V.l(b);){for(w=Math.max(1,Math.floor(V.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),R=U.j(b);it(R)||0<R.l(V);)w-=O,U=v(w),R=U.j(b);X(U)&&(U=C),x=x.add(U),V=Dt(V,R)}return new mt(x,V)}r.A=function(V){return Mt(this,V).h},r.and=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&V.i(O);return new d(w,this.h&V.h)},r.or=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|V.i(O);return new d(w,this.h|V.h)},r.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^V.i(O);return new d(w,this.h^V.h)};function At(V){for(var b=V.g.length+1,w=[],O=0;O<b;O++)w[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(w,V.h)}function zt(V,b){var w=b>>5;b%=32;for(var O=V.g.length-w,x=[],U=0;U<O;U++)x[U]=0<b?V.i(U+w)>>>b|V.i(U+w+1)<<32-b:V.i(U+w);return new d(x,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,pv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Vs=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yv,$l,_v,Wu,Jf,vv,Ev,Tv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function C(u,m,p){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,C.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var et=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)et[Bt-2]=arguments[Bt];return m.prototype[L].apply(T,et)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let et=0;et<q;et++)u[L+et]=T[et]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Mt(u){return Mt[" "](u),u}Mt[" "]=function(){};var At=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function x(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Gt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,p){const T=Qt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Qt=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ct=!1,Gt=new de,D=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=Qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(At){t:{try{Mt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}X(wt,W);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),$t=0;function An(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function Qn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zn(u){this.src=u,this.g={},this.h=0}zn.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=vi(u,m,T,L);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new An(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function _i(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Qn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function vi(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Zi={};function Nr(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Nr(u,m[q],p,T,L);return null}return p=oe(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,L):Ge(u,m,p,!1,T,L)}function Ge(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var et=v(L)?!!L.capture:!!L,Bt=Nt(u);if(Bt||(u[Ei]=Bt=new zn(u)),p=Bt.add(m,p,T,et,q),p.proxy)return p;if(T=qs(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)gt||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ot(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function qs(){function u(p){return m.call(u.src,u.listener,p)}const m=It;return u}function J(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)J(u,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=oe(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=vi(q,p,T,L),-1<p&&(Qn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Nt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vi(m,p,T,L)),(p=-1<u?m[u]:null)&&rt(p))}function rt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])_i(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(ot(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Nt(m))?(_i(p,u),p.h==0&&(p.src=null,m[Ei]=null)):Qn(u)}}}function ot(u){return u in Zi?Zi[u]:Zi[u]="on"+u}function It(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&rt(u),u=p.call(T,m)}return u}function Nt(u){return u=u[Ei],u instanceof zn?u:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(u){return typeof u=="function"?u:(u[se]||(u[se]=function(m){return u.handleEvent(m)}),u[se])}function Rt(){st.call(this),this.i=new zn(this),this.M=this,this.F=null}X(Rt,st),Rt.prototype[be]=!0,Rt.prototype.removeEventListener=function(u,m,p,T){J(this,u,m,p,T)};function ft(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];L=re(et,T,!0,m)&&L}if(et=m.g=u,L=re(et,T,!0,m)&&L,L=re(et,T,!1,m)&&L,p)for(q=0;q<p.length;q++)et=m.g=p[q],L=re(et,T,!1,m)&&L}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Qn(p[T]);delete u.g[m],u.h--}}this.F=null},Rt.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Rt.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function re(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var Bt=et.listener,Ve=et.ha||et.src;et.fa&&_i(u.i,et),L=Bt.call(Ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function me(u,m,p){if(typeof u=="function")p&&(u=C(u,p));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Kn(u){u.g=me(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bn extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){st.call(this),this.h=u,this.g={}}X(Ti,st);var Ai=[];function Hs(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&rt(m)},u),u.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),Hs(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=g.JSON.stringify,Or=g.JSON.parse,Gs=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ha(){}Ha.prototype.h=null;function Ga(u){return u.h||(u.h=u.i())}function Fa(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){W.call(this,"d")}X(Si,W);function Ya(){W.call(this,"c")}X(Ya,W);var Xn={},Qa=null;function Ji(){return Qa=Qa||new Rt}Xn.La="serverreachability";function Vr(u){W.call(this,Xn.La,u)}X(Vr,W);function Wi(u){const m=Ji();ft(m,new Vr(m))}Xn.STAT_EVENT="statevent";function Ro(u,m){W.call(this,Xn.STAT_EVENT,u),this.stat=m}X(Ro,W);function ce(u){const m=Ji();ft(m,new Ro(m,u))}Xn.Ma="timingevent";function Oe(u,m){W.call(this,Xn.Ma,u),this.size=m}X(Oe,W);function Se(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Ka(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var et="",Bt=q.split("&"),Ve=0;Ve<Bt.length;Ve++){var jt=Bt[Ve].split("=");if(1<jt.length){var ze=jt[0];jt=jt[1];var xe=ze.split("_");et=2<=xe.length&&xe[1]=="type"?et+(ze+"="+jt+"&"):et+(ze+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function Mc(u,m,p,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+et})}function ts(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fs(u,p)+(T?" "+T:"")})}function wo(u,m){u.info(function(){return"TIMEOUT: "+m})}Sn.prototype.info=function(){};function Fs(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return Bn(p)}catch{return m}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Zn(){}X(Zn,Ha),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},$n=new Zn;function an(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Xa={},xr={};function jn(u,m,p){u.L=1,u.v=$s(mn(m)),u.m=p,u.P=!0,wi(u,null)}function wi(u,m){u.F=Date.now(),Ys(u),u.A=mn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),el(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ve,u.g=qo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new bn(C(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ai[0]=L.toString()),L=Ai);for(var q=0;q<L.length;q++){var et=Nr(p,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),Ka(u.i,u.u,u.A,u.l,u.R,u.m)}an.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dn(u)==3?m.j():this.Y(u)},an.prototype.Y=function(u){try{if(u==this.g)t:{const xe=Dn(this.g);var m=this.g.Ba();const Mi=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||xe!=4||m==7||(m==8||0>=Mi?Wi(3):Wi(2)),ns(this);var p=this.g.Z();this.X=p;e:if(Co(this)){var T=Mo(this.g);u="";var L=T.length,q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),Jn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Mc(this.i,this.u,this.A,this.l,this.R,xe,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Ve=this.g;if((Bt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Bt)){var jt=Bt;break e}}jt=null}if(p=jt)ts(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,p);else{this.o=!1,this.s=3,ce(12),Fe(this),Jn(this);break t}}if(this.P){p=!0;let Ye;for(;!this.J&&this.C<et.length;)if(Ye=Do(this,et),Ye==xr){xe==4&&(this.s=4,ce(14),p=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==Xa){this.s=4,ce(15),ts(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else ts(this.i,this.l,Ye,null),Qs(this,Ye);if(Co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||et.length!=0||this.h.h||(this.s=1,ce(16),p=!1),this.o=this.o&&p,!p)ts(this.i,this.l,et,"[Invalid Chunked Response]"),Fe(this),Jn(this);else if(0<et.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),sr(ze),ze.M=!0,ce(11))}}else ts(this.i,this.l,et,null),Qs(this,et);xe==4&&Fe(this),this.o&&!this.J&&(xe==4?Bo(this.j,this):(this.o=!1,Ys(this)))}else Bc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),Fe(this),Jn(this)}}}catch{}finally{}};function Co(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Do(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?xr:(p=Number(m.substring(p,T)),isNaN(p)?Xa:(T+=1,T+p>m.length?xr:(m=m.slice(T,T+p),u.C=T+p,m)))}an.prototype.cancel=function(){this.J=!0,Fe(this)};function Ys(u){u.S=Date.now()+u.I,Io(u,u.I)}function Io(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Se(C(u.ba,u),m)}function ns(u){u.B&&(g.clearTimeout(u.B),u.B=null)}an.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wo(this.i,this.A),this.L!=2&&(Wi(),ce(17)),Fe(this),this.s=2,Jn(this)):Io(this,this.S-u)};function Jn(u){u.j.G==0||u.J||Bo(u.j,u)}function Fe(u){ns(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Hs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qs(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||$a(p.h,u))){if(!u.K&&$a(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Fr(p),Hr(p);else break t;al(p),ce(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=Se(C(p.Za,p),6e3));if(1>=Ur(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else xi(p,11)}else if((u.K||p.g==u)&&Fr(p),!dt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let jt=L[m];if(p.T=jt[0],jt=jt[1],p.G==2)if(jt[0]=="c"){p.K=jt[1],p.ia=jt[2];const ze=jt[3];ze!=null&&(p.la=ze,p.j.info("VER="+p.la));const xe=jt[4];xe!=null&&(p.Aa=xe,p.j.info("SVER="+p.Aa));const Mi=jt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(T=1.5*Mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ye=u.g;if(Ye){const ri=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var q=T.h;q.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lr(q,q.h),q.h=null))}if(T.D){const ol=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(T.ya=ol,Wt(T.I,T.D,ol))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=ko(T,T.J?T.ia:null,T.W),et.K){ln(T.h,et);var Bt=et,Ve=T.L;Ve&&(Bt.I=Ve),Bt.B&&(ns(Bt),Ys(Bt)),T.g=et}else Po(T);0<p.i.length&&Gr(p)}else jt[0]!="stop"&&jt[0]!="close"||xi(p,7);else p.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?xi(p,7):sl(p):jt[0]!="noop"&&p.l&&p.l.ta(jt),p.v=0)}}Wi(4)}catch{}}var No=class{constructor(u,m){this.g=u,this.map=m}};function Ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ur(u){return u.h?1:u.g?u.g.size:0}function $a(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Lr(u,m){u.g?u.g.add(m):u.h=m}function ln(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Za(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Uc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Pr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ja(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Pr(u),T=Uc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Re(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Re){this.h=u.h,Xs(this,u.j),this.o=u.o,this.g=u.g,is(this,u.s),this.l=u.l;var m=u.i,p=new Ii;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Di(this,p),this.m=u.m}else u&&(m=String(u).match(Ks))?(this.h=!1,Xs(this,m[1]||"",!0),this.o=Rn(m[2]||""),this.g=Rn(m[3]||"",!0),is(this,m[4]),this.l=Rn(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=Rn(m[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Re.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zs(m,Wa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zs(m,Wa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Zs(p,p.charAt(0)=="/"?Pc:tl,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Zs(p,zr)),u.join("")};function mn(u){return new Re(u)}function Xs(u,m,p){u.j=p?Rn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Di(u,m,p){m instanceof Ii?(u.i=m,Vo(u.i,u.h)):(p||(m=Zs(m,zc)),u.i=new Ii(m,u.h))}function Wt(u,m,p){u.i.set(m,p)}function $s(u){return Wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Oo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Oo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,tl=/[#\?:]/g,Pc=/[#\?]/g,zc=/[#\?@]/g,zr=/#/g;function Ii(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Lc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ii.prototype,r.add=function(u,m){wn(this),this.i=null,u=Wn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ni(u,m){wn(u),m=Wn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oi(u,m){return wn(u),m=Wn(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){wn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},r.V=function(u){wn(this);let m=[];if(typeof u=="string")Oi(this,u)&&(m=m.concat(this.g.get(Wn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return wn(this),this.i=null,u=Wn(this,u),Oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function el(u,m,p){Ni(u,m),0<p.length&&(u.i=null,u.g.set(Wn(u,m),it(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var L=q;et[T]!==""&&(L+="="+encodeURIComponent(String(et[T]))),u.push(L)}}return this.i=u.join("&")};function Wn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Vo(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(Ni(this,T),el(this,L,p))},u)),u.j=m}function Js(u,m){const p=new Sn;if(g.Image){const T=new Image;T.onload=k(Cn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(Cn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(Cn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(Cn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function kn(u,m){const p=new Sn,T=new AbortController,L=setTimeout(()=>{T.abort(),Cn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Cn(p,"TestPingServer: ok",!0,m):Cn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(p,"TestPingServer: error",!1,m)})}function Cn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ws(){this.g=new Gs}function ti(u,m,p){const T=p||"";try{Ja(u,function(L,q){let et=L;v(L)&&(et=Bn(L)),m.push(T+q+"="+encodeURIComponent(et))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ss(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ss,Ha),ss.prototype.g=function(){return new Vi(this.l,this.j)},ss.prototype.i=function(u){return function(){return u}}({});function Vi(u,m){Rt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Vi,Rt),r=Vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ni(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ni(this),this.readyState==3&&nl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},r.Qa=function(u){this.g&&(this.response=u,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ni(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Pe(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=il(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Wt(u,m,p))}function Kt(u){Rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Kt,Rt);var Br=/^https?$/i,tr=["POST","PUT"];r=Kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Ga(this.o):Ga($n),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){xo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(tr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{er(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){xo(this,q)}};function xo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,jr(u),ii(u)}function jr(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?kr(this):this.bb())},r.bb=function(){kr(this)};function kr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Dn(u)!=4||u.Z()!=2)){if(u.u&&Dn(u)==4)me(u.Ea,0,u);else if(ft(u,"readystatechange"),Dn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var L=String(u.D).match(Ks)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Br.test(L?L.toLowerCase():"")}p=T}if(p)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var q=2<Dn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",jr(u)}}finally{ii(u)}}}}function ii(u,m){if(u.g){er(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{p.onreadystatechange=T}catch{}}}function er(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Dn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Or(m)}};function Mo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bc(u){const m={};u=(u.g&&2<=Dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=x(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}V(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function qr(u){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,u),this.cb=nr("retryDelaySeedMs",1e4,u),this.Wa=nr("forwardChannelMaxRetries",2,u),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(u&&u.concurrentRequestLimit),this.Da=new Ws,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){ce(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=ko(this,null,this.W),Gr(this)};function sl(u){if(Uo(u),u.G==3){var m=u.U++,p=mn(u.I);if(Wt(p,"SID",u.K),Wt(p,"RID",m),Wt(p,"TYPE","terminate"),ir(u,p),m=new an(u,u.j,m),m.L=2,m.v=$s(mn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=qo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ys(m)}jo(u)}function Hr(u){u.g&&(sr(u),u.g.cancel(),u.g=null)}function Uo(u){Hr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Fr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Gr(u){if(!Mr(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||D(),ct||(nt(),ct=!0),Gt.add(m,u),u.B=0}}function jc(u,m){return Ur(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Se(C(u.Ga,u,m),ll(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new an(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Lo(this,L,m),p=mn(this.I),Wt(p,"RID",u),Wt(p,"CVER",22),this.D&&Wt(p,"X-HTTP-Session-Id",this.D),ir(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(il(q)))+"&"+m:this.m&&Pe(p,this.m,q)),Lr(this.h,L),this.Ua&&Wt(p,"TYPE","init"),this.P?(Wt(p,"$req",m),Wt(p,"SID","null"),L.T=!0,jn(L,p,null)):jn(L,p,m),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||Mr(this.h)||rl(this))};function rl(u,m){var p;m?p=m.l:p=u.U++;const T=mn(u.I);Wt(T,"SID",u.K),Wt(T,"RID",p),Wt(T,"AID",u.T),ir(u,T),u.m&&u.o&&Pe(T,u.m,u.o),p=new an(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Lo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Lr(u.h,p),jn(p,T,m)}function ir(u,m){u.H&&zt(u.H,function(p,T){Wt(m,T,p)}),u.l&&Ja({},function(p,T){Wt(m,T,p)})}function Lo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?C(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=L[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Bt=!0;for(let Ve=0;Ve<p;Ve++){let jt=L[Ve].g;const ze=L[Ve].map;if(jt-=q,0>jt)q=Math.max(0,L[Ve].g-100),Bt=!1;else try{ti(ze,et,"req"+jt+"_")}catch{T&&T(ze)}}if(Bt){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Po(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||D(),ct||(nt(),ct=!0),Gt.add(m,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Se(C(u.Fa,u),ll(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Se(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Hr(this),zo(this))};function sr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function zo(u){u.g=new an(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=mn(u.qa);Wt(m,"RID","rpc"),Wt(m,"SID",u.K),Wt(m,"AID",u.T),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Wt(m,"TO",u.ja),Wt(m,"TYPE","xmlhttp"),ir(u,m),u.m&&u.o&&Pe(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=$s(mn(m)),p.m=null,p.P=!0,wi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Hr(this),al(this),ce(19))};function Fr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Bo(u,m){var p=null;if(u.g==m){Fr(u),sr(u),u.g=null;var T=2}else if($a(u.h,m))p=m.D,ln(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Ji(),ft(T,new Oe(T,p)),Gr(u)}else Po(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&jc(u,m)||T==2&&al(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function ll(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var p=C(u.fb,u),T=u.Xa;const L=!T;T=new Re(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xs(T,"https"),$s(T),L?Js(T.toString(),p):kn(T.toString(),p)}else ce(2);u.G=0,u.l&&u.l.sa(m),jo(u),Uo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function jo(u){if(u.G=0,u.ka=[],u.l){const m=Za(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function ko(u,m,p){var T=p instanceof Re?mn(p):new Re(p);if(T.g!="")m&&(T.g=m+"."+T.g),is(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Re(null);T&&Xs(q,T),m&&(q.g=m),L&&is(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Wt(T,p,m),Wt(T,"VER",u.la),ir(u,T),T}function qo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Kt(new ss({eb:p})):new Kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Yr(){}Yr.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Rt.call(this),this.g=new qr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new si(this)}X(on,Rt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){sl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Bn(u),u=p);m.i.push(new No(m.Ya++,u)),m.G==3&&Gr(m)},on.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,on.aa.N.call(this)};function Go(u){Si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Go,Si);function Fo(){Ya.call(this),this.status=1}X(Fo,Ya);function si(u){this.g=u}X(si,Ho),si.prototype.ua=function(){ft(this.g,"a")},si.prototype.ta=function(u){ft(this.g,new Go(u))},si.prototype.sa=function(u){ft(this.g,new Fo)},si.prototype.ra=function(){ft(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Tv=function(){return new Yr},Ev=function(){return Ji()},vv=Xn,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Wu=es,Ri.COMPLETE="complete",_v=Ri,Fa.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,$l=Fa,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,yv=Kt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const Wy="@firebase/firestore",t_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new cv("@firebase/firestore");function Aa(){return br.logLevel}function lt(r,...e){if(br.logLevel<=Ht.DEBUG){const i=e.map(Td);br.debug(`Firestore (${za}): ${r}`,...i)}}function Xi(r,...e){if(br.logLevel<=Ht.ERROR){const i=e.map(Td);br.error(`Firestore (${za}): ${r}`,...i)}}function Us(r,...e){if(br.logLevel<=Ht.WARN){const i=e.map(Td);br.warn(`Firestore (${za}): ${r}`,...i)}}function Td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Av(r,a,i)}function Av(r,e,i){let a=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Xi(a),new Error(a)}function Xt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||Av(e,o,a)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Pa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(nn.UNAUTHENTICATED))}shutdown(){}}class F1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Y1{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new xs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new xs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new bv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class Q1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Q1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,C1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xt(this.o===void 0,3512);const a=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new e_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Vt(r,e){return r<e?-1:r>e?1:0}function Wf(r,e){let i=0;for(;i<r.length&&i<e.length;){const a=r.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Vt(a,o);{const h=Sv(),d=Z1(h.encode(n_(r,i)),h.encode(n_(e,i)));return d!==0?d:Vt(a,o)}}i+=a>65535?2:1}return Vt(r.length,e.length)}function n_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Z1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Vt(r[i],e[i]);return Vt(r.length,e.length)}function Va(r,e,i){return r.length===e.length&&r.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&vt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=hi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=hi.isNumericId(e),o=hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?hi.extractNumericId(e).compare(hi.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class le extends hi{construct(e,i,a){return new le(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new le(i)}static emptyPath(){return new le([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends hi{construct(e,i,a){return new Ze(e,i,a)}static isValidIdentifier(e){return J1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new Ze([i_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(le.fromString(e))}static fromName(e){return new pt(le.fromString(e).popFirst(5))}static empty(){return new pt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r,e,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function W1(r,e,i,a){if(e===!0&&a===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function s_(r){if(!pt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r_(r){if(pt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ec(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function uo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ec(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function Eo(r,e){if(!wv(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-62135596800,l_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*l_);return new ue(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<a_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ne("string",ue._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ue(0,0))}static max(){return new bt(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function tb(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new Ls(o,pt.empty(),e)}function eb(r){return new Ls(r.readTime,r.key,co)}class Ls{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ls(bt.min(),pt.empty(),co)}static max(){return new Ls(bt.max(),pt.empty(),co)}}function nb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==ib)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,a)=>{i(e)})}static reject(e){return new K((i,a)=>{a(e)})}static waitFor(e){return new K((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const a of e)i=i.next(o=>o?K.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new K((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new K((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function rb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Tc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function Ac(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function ab(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="";function lb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=o_(e)),e=ob(r.get(i),e);return o_(e)}function ob(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Cv:i+="";break;default:i+=h}}return i}function o_(r){return r+Cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Rr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Dv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,i){this.comparator=e,this.root=i||$e.EMPTY}insert(e,i){return new pe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$e.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $e{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??$e.RED,this.left=o??$e.EMPTY,this.right=h??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new $e(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new $e(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Le(this.comparator);return i.data=e,i}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Le(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Iv("Invalid base64 string: "+h):h}}(e);return new Je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(Xt(!!r,39018),typeof r=="string"){let e=0;const i=ub.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zs(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="server_timestamp",Ov="__type__",Vv="__previous_value__",xv="__local_write_time__";function Sd(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ov])===null||i===void 0?void 0:i.stringValue)===Nv}function bc(r){const e=r.mapValue.fields[Vv];return Sd(e)?bc(e):e}function ho(r){const e=Ps(r.mapValue.fields[xv].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i,a,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const hc="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__type__",hb="__max__",Ku={mapValue:{}},Uv="__vector__",fc="value";function Bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sd(r)?4:db(r)?9007199254740991:fb(r)?10:11:vt(28295,{value:r})}function yi(r,e){if(r===e)return!0;const i=Bs(r);if(i!==Bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ho(r).isEqual(ho(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ps(o.timestampValue),g=Ps(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return zs(o.bytesValue).isEqual(zs(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return Ae(o.geoPointValue.latitude)===Ae(h.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Ae(o.integerValue)===Ae(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ae(o.doubleValue),g=Ae(h.doubleValue);return d===g?cc(d)===cc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Va(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(u_(d)!==u_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!yi(d[_],g[_])))return!1;return!0}(r,e);default:return vt(52216,{left:r})}}function mo(r,e){return(r.values||[]).find(i=>yi(i,e))!==void 0}function xa(r,e){if(r===e)return 0;const i=Bs(r),a=Bs(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=Ae(h.integerValue||h.doubleValue),_=Ae(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return h_(r.timestampValue,e.timestampValue);case 4:return h_(ho(r),ho(e));case 5:return Wf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=zs(h),_=zs(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Vt(g[v],_[v]);if(A!==0)return A}return Vt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Vt(Ae(h.latitude),Ae(d.latitude));return g!==0?g:Vt(Ae(h.longitude),Ae(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return f_(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const I=h.fields||{},C=d.fields||{},k=(g=I[fc])===null||g===void 0?void 0:g.arrayValue,X=(_=C[fc])===null||_===void 0?void 0:_.arrayValue,it=Vt(((v=k?.values)===null||v===void 0?void 0:v.length)||0,((A=X?.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:f_(k,X)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const C=Wf(_[I],A[I]);if(C!==0)return C;const k=xa(g[_[I]],v[A[I]]);if(k!==0)return k}return Vt(_.length,A.length)}(r.mapValue,e.mapValue);default:throw vt(23264,{le:i})}}function h_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Ps(r),a=Ps(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function f_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=xa(i[o],a[o]);if(h)return h}return Vt(i.length,a.length)}function Ma(r){return td(r)}function td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Ps(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return zs(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=td(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"}(r.mapValue):vt(61005,{value:r})}function tc(r){switch(Bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(r);return e?16+tc(e):16;case 5:return 2*r.stringValue.length;case 6:return zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+tc(h),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Rr(a.fields,(h,d)=>{o+=h.length+tc(d)}),o}(r.mapValue);default:throw vt(13486,{value:r})}}function d_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ed(r){return!!r&&"integerValue"in r}function Rd(r){return!!r&&"arrayValue"in r}function m_(r){return!!r&&"nullValue"in r}function g_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function fb(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mv])===null||i===void 0?void 0:i.stringValue)===Uv}function eo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Rr(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=eo(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function db(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=Ze.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=eo(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Rr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Ln(eo(this.value))}}function Lv(r){const e=[];return Rr(r.fields,(i,a)=>{const o=new Ze([i]);if(ec(a)){const h=Lv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new sn(e,0,bt.min(),bt.min(),bt.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,o){return new sn(e,1,i,bt.min(),a,o,0)}static newNoDocument(e,i){return new sn(e,2,i,bt.min(),bt.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new sn(e,3,i,bt.min(),bt.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function p_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=xa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function y_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!yi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,i="asc"){this.field=e,this.dir=i}}function mb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{}class Ie extends Pv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new pb(e,i,a):i==="array-contains"?new vb(e,a):i==="in"?new Eb(e,a):i==="not-in"?new Tb(e,a):i==="array-contains-any"?new Ab(e,a):new Ie(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new yb(e,a):new _b(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xa(i,this.value)):i!==null&&Bs(this.value)===Bs(i)&&this.matchesComparison(xa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Pv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new Yn(e,i)}matches(e){return zv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zv(r){return r.op==="and"}function Bv(r){return gb(r)&&zv(r)}function gb(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function nd(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Ma(r.value);if(Bv(r))return r.filters.map(e=>nd(e)).join(",");{const e=r.filters.map(i=>nd(i)).join(",");return`${r.op}(${e})`}}function jv(r,e){return r instanceof Ie?function(a,o){return o instanceof Ie&&a.op===o.op&&a.field.isEqual(o.field)&&yi(a.value,o.value)}(r,e):r instanceof Yn?function(a,o){return o instanceof Yn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&jv(d,o.filters[g]),!0):!1}(r,e):void vt(19439)}function kv(r){return r instanceof Ie?function(i){return`${i.field.canonicalString()} ${i.op} ${Ma(i.value)}`}(r):r instanceof Yn?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(r):"Filter"}class pb extends Ie{constructor(e,i,a){super(e,i,a),this.key=pt.fromName(a.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class yb extends Ie{constructor(e,i){super(e,"in",i),this.keys=qv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class _b extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=qv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function qv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>pt.fromName(a.referenceValue))}class vb extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&mo(i.arrayValue,this.value)}}class Eb extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class Tb extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class Ab extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>mo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function __(r,e=null,i=[],a=[],o=null,h=null,d=null){return new bb(r,e,i,a,o,h,d)}function wd(r){const e=St(r);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>nd(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Ma(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Ma(a)).join(",")),e.Pe=i}return e.Pe}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!jv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y_(r.startAt,e.startAt)&&y_(r.endAt,e.endAt)}function id(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Sb(r,e,i,a,o,h,d,g){return new ka(r,e,i,a,o,h,d,g)}function Hv(r){return new ka(r)}function v_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Gv(r){return r.collectionGroup!==null}function no(r){const e=St(r);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Le(Ze.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new go(h,a))}),i.has(Ze.keyField().canonicalString())||e.Te.push(new go(Ze.keyField(),a))}return e.Te}function fi(r){const e=St(r);return e.Ie||(e.Ie=Rb(e,no(r))),e.Ie}function Rb(r,e){if(r.limitType==="F")return __(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new go(o.field,h)});const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return __(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function sd(r,e){const i=r.filters.concat([e]);return new ka(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function rd(r,e,i){return new ka(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Sc(r,e){return Cd(fi(r),fi(e))&&r.limitType===e.limitType}function Fv(r){return`${wd(fi(r))}|lt:${r.limitType}`}function ba(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),Ac(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Ma(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Ma(o)).join(",")),`Target(${a})`}(fi(r))}; limitType=${r.limitType})`}function Rc(r,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):pt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,e)&&function(a,o){for(const h of no(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=p_(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,no(a),o)||a.endAt&&!function(d,g,_){const v=p_(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,no(a),o))}(r,e)}function wb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Yv(r){return(e,i)=>{let a=!1;for(const o of no(r)){const h=Cb(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function Cb(r,e,i){const a=r.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?xa(_,v):vt(42886)}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new pe(pt.comparator);function $i(){return Db}const Qv=new pe(pt.comparator);function Zl(...r){let e=Qv;for(const i of r)e=e.insert(i.key,i);return e}function Kv(r){let e=Qv;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Tr(){return io()}function Xv(){return io()}function io(){return new wr(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ib=new pe(pt.comparator),Nb=new Le(pt.comparator);function Pt(...r){let e=Nb;for(const i of r)e=e.add(i);return e}const Ob=new Le(Vt);function Vb(){return Ob}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function $v(r){return{integerValue:""+r}}function xb(r,e){return ab(e)?$v(e):Dd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function Mb(r,e,i){return r instanceof po?function(o,h){const d={fields:{[Ov]:{stringValue:Nv},[xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=bc(h)),h&&(d.fields[Vv]=h),{mapValue:d}}(i,e):r instanceof yo?Jv(r,e):r instanceof _o?Wv(r,e):function(o,h){const d=Zv(o,h),g=E_(d)+E_(o.Ee);return ed(d)&&ed(o.Ee)?$v(g):Dd(o.serializer,g)}(r,e)}function Ub(r,e,i){return r instanceof yo?Jv(r,e):r instanceof _o?Wv(r,e):i}function Zv(r,e){return r instanceof mc?function(a){return ed(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class po extends wc{}class yo extends wc{constructor(e){super(),this.elements=e}}function Jv(r,e){const i=t0(e);for(const a of r.elements)i.some(o=>yi(o,a))||i.push(a);return{arrayValue:{values:i}}}class _o extends wc{constructor(e){super(),this.elements=e}}function Wv(r,e){let i=t0(e);for(const a of r.elements)i=i.filter(o=>!yi(o,a));return{arrayValue:{values:i}}}class mc extends wc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function E_(r){return Ae(r.integerValue||r.doubleValue)}function t0(r){return Rd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.field=e,this.transform=i}}function Pb(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof yo&&o instanceof yo||a instanceof _o&&o instanceof _o?Va(a.elements,o.elements,yi):a instanceof mc&&o instanceof mc?yi(a.Ee,o.Ee):a instanceof po&&o instanceof po}(r.transform,e.transform)}class zb{constructor(e,i){this.version=e,this.transformResults=i}}class di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function e0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Id(r.key,di.none()):new To(r.key,r.data,di.none());{const i=r.data,a=Ln.empty();let o=new Le(Ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Cr(r.key,a,new Fn(o.toArray()),di.none())}}function Bb(r,e,i){r instanceof To?function(o,h,d){const g=o.value.clone(),_=A_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Cr?function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=A_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(n0(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function so(r,e,i,a){return r instanceof To?function(h,d,g,_){if(!nc(h.precondition,d))return g;const v=h.value.clone(),A=b_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,a):r instanceof Cr?function(h,d,g,_){if(!nc(h.precondition,d))return g;const v=b_(h.fieldTransforms,_,d),A=d.data;return A.setAll(n0(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(r,e,i,a):function(h,d,g){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function jb(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Zv(a.transform,o||null);h!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,h))}return i||null}function T_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Va(a,o,(h,d)=>Pb(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class To extends Cc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Cc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function n0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function A_(r,e,i){const a=new Map;Xt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,Ub(d,g,i[o]))}return a}function b_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,Mb(h,d,e))}return a}class Id extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kb extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Bb(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=so(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=so(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Xv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=e0(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Pt())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(i,a)=>T_(i,a))&&Va(this.baseMutations,e.baseMutations,(i,a)=>T_(i,a))}}class Nd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Xt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return Ib}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Nd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,qt;function Fb(r){switch(r){case Y.OK:return vt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function i0(r){if(r===void 0)return Xi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case De.OK:return Y.OK;case De.CANCELLED:return Y.CANCELLED;case De.UNKNOWN:return Y.UNKNOWN;case De.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case De.INTERNAL:return Y.INTERNAL;case De.UNAVAILABLE:return Y.UNAVAILABLE;case De.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case De.NOT_FOUND:return Y.NOT_FOUND;case De.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case De.ABORTED:return Y.ABORTED;case De.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case De.DATA_LOSS:return Y.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=De||(De={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Vs([4294967295,4294967295],0);function S_(r){const e=Sv().encode(r),i=new pv;return i.update(e),new Uint8Array(i.digest())}function R_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Vs([i,a],0),new Vs([o,h],0)]}class Od{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(a<0)throw new Jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=Vs.fromNumber(this.fe)}pe(e,i,a){let o=e.add(i.multiply(Vs.fromNumber(a)));return o.compare(Yb)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=S_(e),[a,o]=R_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Od(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=S_(e),[a,o]=R_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Ao.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dc(bt.min(),o,new pe(Vt),$i(),Pt())}}class Ao{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Ao(a,i,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=o}}class s0{constructor(e,i){this.targetId=e,this.De=i}}class r0{constructor(e,i,a=Je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class w_{constructor(){this.ve=0,this.Ce=C_(),this.Fe=Je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pt(),i=Pt(),a=Pt();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:h})}}),new Ao(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=C_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Qb{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=Xu(),this.Je=Xu(),this.He=new pe(Vt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,a=e.De.count,o=this.st(i);if(o){const h=o.target;if(id(h))if(a===0){const d=new pt(h.path);this.Xe(i,d,sn.newNoDocument(d,bt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const g=this._t(e),_=g?this.ut(g,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=zs(a).toUint8Array()}catch(_){if(_ instanceof Iv)return Us("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Od(d,o,h)}catch(_){return Us(_ instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&id(g.target)){const _=new pt(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,sn.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let a=Pt();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new Dc(e,i,this.He,this.ze,a);return this.ze=$i(),this.je=Xu(),this.Je=Xu(),this.He=new pe(Vt),o}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new w_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Le(Vt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Le(Vt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new w_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new pe(pt.comparator)}function C_(){return new pe(pt.comparator)}const Kb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$b={and:"AND",or:"OR"};class Zb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(r,e){return r.useProto3Json||Ac(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Jb(r,e){return gc(r,e.toTimestamp())}function mi(r){return Xt(!!r,49232),bt.fromTimestamp(function(i){const a=Ps(i);return new ue(a.seconds,a.nanos)}(r))}function Vd(r,e){return ld(r,e).canonicalString()}function ld(r,e){const i=function(o){return new le(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function l0(r){const e=le.fromString(r);return Xt(f0(e),10190,{key:e.toString()}),e}function od(r,e){return Vd(r.databaseId,e.path)}function qf(r,e){const i=l0(e);if(i.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(u0(i))}function o0(r,e){return Vd(r.databaseId,e)}function Wb(r){const e=l0(r);return e.length===4?le.emptyPath():u0(e)}function ud(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function u0(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D_(r,e,i){return{name:od(r,e),fields:i.value.mapValue.fields}}function tS(r,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),Je.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Je.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Y.UNKNOWN:i0(v.code);return new at(A,v.message||"")}(d);i=new r0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qf(r,a.document.name),h=mi(a.document.updateTime),d=a.document.createTime?mi(a.document.createTime):bt.min(),g=new Ln({mapValue:{fields:a.document.fields}}),_=sn.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new ic(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qf(r,a.document),h=a.readTime?mi(a.readTime):bt.min(),d=sn.newNoDocument(o,h),g=a.removedTargetIds||[];i=new ic([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qf(r,a.document),h=a.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return vt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new Gb(o,h),g=a.targetId;i=new s0(g,d)}}return i}function eS(r,e){let i;if(e instanceof To)i={update:D_(r,e.key,e.value)};else if(e instanceof Id)i={delete:od(r,e.key)};else if(e instanceof Cr)i={update:D_(r,e.key,e.data),updateMask:cS(e.fieldMask)};else{if(!(e instanceof kb))return vt(16599,{Rt:e.type});i={verify:od(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof _o)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw vt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Jb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)}(r,e.precondition)),i}function nS(r,e){return r&&r.length>0?(Xt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?mi(o.updateTime):mi(h);return d.isEqual(bt.min())&&(d=mi(h)),new zb(d,o.transformResults||[])}(i,e))):[]}function iS(r,e){return{documents:[o0(r,e.path)]}}function sS(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=o0(r,o);const h=function(v){if(v.length!==0)return h0(Yn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(C){return{field:Sa(C.field),direction:lS(C.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ad(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function rS(r){let e=Wb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Xt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const C=c0(I);return C instanceof Yn&&Bv(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(C=>function(X){return new go(Ra(X.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(I){let C;return C=typeof I=="object"?I.value:I,Ac(C)?null:C}(i.limit));let _=null;i.startAt&&(_=function(I){const C=!!I.before,k=I.values||[];return new dc(k,C)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const C=!I.before,k=I.values||[];return new dc(k,C)}(i.endAt)),Sb(e,o,d,h,g,"F",_,v)}function aS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function c0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ra(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ra(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ra(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ie.create(Ra(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Yn.create(i.compositeFilter.filters.map(a=>c0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(r):vt(30097,{filter:r})}function lS(r){return Kb[r]}function oS(r){return Xb[r]}function uS(r){return $b[r]}function Sa(r){return{fieldPath:r.canonicalString()}}function Ra(r){return Ze.fromServerFormat(r.fieldPath)}function h0(r){return r instanceof Ie?function(i){if(i.op==="=="){if(g_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NAN"}};if(m_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NOT_NAN"}};if(m_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(i.field),op:oS(i.op),value:i.value}}}(r):r instanceof Yn?function(i){const a=i.getFilters().map(o=>h0(o));return a.length===1?a[0]:{compositeFilter:{op:uS(i.op),filters:a}}}(r):vt(54877,{filter:r})}function cS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function f0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,i,a,o,h=bt.min(),d=bt.min(),g=Je.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.gt=e}}function fS(r){const e=rS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Dn=new mS}addToCollectionParentIndex(e,i){return this.Dn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ls.min())}updateCollectionGroup(e,i,a){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class mS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Le(le.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Le(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d0=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(d0,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ua(0)}static ur(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="LruGarbageCollector",gS=1048576;function O_([r,e],[i,a]){const o=Vt(r,i);return o===0?Vt(e,a):o}class pS{constructor(e){this.Tr=e,this.buffer=new Le(O_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();O_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){lt(N_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ja(i)?lt(N_,"Ignoring IndexedDB error during garbage collection: ",i):await Ba(i)}await this.Rr(3e5)})}}class _S{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Tc.ue);const a=new pS(i);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(I_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(a=I,g=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),Aa()<=Ht.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function vS(r,e){return new _S(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.changes=new wr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&so(a.mutation,o,Fn.empty(),ue.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Pt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Pt()){const o=Tr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Zl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=Tr();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Pt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=$i();const d=io(),g=function(){return io()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Cr)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),so(A.mutation,v,A.mutation.getFieldMask(),ue.now())):d.set(v.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new TS(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const a=io();let o=new pe((d,g)=>d-g),h=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Fn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const I=(o.get(g.batchId)||Pt()).add(_);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=Xv();A.forEach(C=>{if(!h.has(C)){const k=e0(i.get(C),a.get(C));k!==null&&I.set(C,k),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Gv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):K.resolve(Tr());let g=co,_=h;return d.next(v=>K.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(C=>{_=_.insert(A,C)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Pt())).next(A=>({batchId:g,changes:Kv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(a=>{let o=Zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(I,C){return new ka(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,sn.newInvalidDocument(A)))});let g=Zl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&so(A.mutation,v,Fn.empty(),ue.now()),Rc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return K.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:fS(o.bundledQuery),readTime:mi(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.overlays=new pe(pt.comparator),this.kr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Tr();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.wt(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),K.resolve()}getOverlaysForCollection(e,i,a){const o=Tr(),h=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new pe((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=Tr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Tr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}wt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Hb(i,a));let h=this.kr.get(i);h===void 0&&(h=Pt(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.qr=new Le(qe.Qr),this.$r=new Le(qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new qe(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new qe(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new pt(new le([])),a=new qe(i,e),o=new qe(i,e+1),h=[];return this.$r.forEachInRange([a,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new pt(new le([])),a=new qe(i,e),o=new qe(i,e+1);let h=Pt();return this.$r.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new qe(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class qe{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return pt.comparator(e.key,i.key)||Vt(e.Hr,i.Hr)}static Ur(e,i){return Vt(e.Hr,i.Hr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Le(qe.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qb(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new qe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?bd:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Le(Vt);return i.forEach(o=>{const h=new qe(o,0),d=new qe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{a=a.add(g.Hr)})}),K.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;pt.isDocumentKey(h)||(h=h.child(""));const d=new qe(new pt(h),0);let g=new Le(Vt);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)},d),K.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Xt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return K.forEach(i.mutations,o=>{const h=new qe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new qe(i,0),o=this.Yr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.ni=e,this.docs=function(){return new pe(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(e,i){let a=$i();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():sn.newInvalidDocument(o))}),K.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=$i();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||nb(eb(A),a)<=0||(o.has(A.key)||Rc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,a,o){vt(9500)}ri(e,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new DS(this)}getSize(e){return K.resolve(this.size)}}class DS extends ES{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),K.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.persistence=e,this.ii=new wr(i=>wd(i),Cd),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new xd,this.targetCount=0,this._i=Ua.ar()}forEachTarget(e,i){return this.ii.forEach((a,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),K.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ua(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.hr(i),K.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return K.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),K.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return K.resolve(a)}containsKey(e,i){return K.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.ai={},this.overlays={},this.ui=new Tc(0),this.ci=!1,this.ci=!0,this.li=new RS,this.referenceDelegate=e(this),this.hi=new IS(this),this.indexManager=new dS,this.remoteDocumentCache=function(o){return new CS(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new hS(i),this.Ti=new bS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new SS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new wS(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){lt("MemoryPersistence","Starting transaction:",e);const o=new NS(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return K.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class NS extends sb{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ai=new xd,this.Ri=null}static Vi(e){return new Md(e)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),K.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,a=>{const o=pt.fromPath(a);return this.fi(e,o).next(h=>{h||i.removeEntry(o,bt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return K.or([()=>K.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.gi=new wr(a=>lb(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=vS(this,i)}static Vi(e,i){return new pc(e,i)}Ii(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return K.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,bt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}Sr(e,i,a){return K.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=o}static Es(e,i){let a=Pt(),o=Pt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ud(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return SA()?8:rb(AA())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new OS;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,a,o){return a.documentReadCount<this.Vs?(Aa()<=Ht.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Aa()<=Ht.DEBUG&&lt("QueryEngine","Query:",ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(Aa()<=Ht.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(i))):K.resolve())}ps(e,i){if(v_(i))return K.resolve(null);let a=fi(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=rd(i,null,"F"),a=fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Pt(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.bs(i,g);return this.Ds(i,v,d,_.readTime)?this.ps(e,rd(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,a,o){return v_(i)||o.isEqual(bt.min())?K.resolve(null):this.gs.getDocuments(e,a).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,a,o)?K.resolve(null):(Aa()<=Ht.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ba(i)),this.vs(e,d,i,tb(o,co)).next(g=>g))})}bs(e,i){let a=new Le(Yv(e));return i.forEach((o,h)=>{Rc(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,a){return Aa()<=Ht.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ba(i)),this.gs.getDocumentsMatchingQuery(e,i,Ls.min(),a)}vs(e,i,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",xS=3e8;class MS{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new pe(Vt),this.Ms=new wr(h=>wd(h),Cd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function US(r,e,i,a){return new MS(r,e,i,a)}async function g0(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Pt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function LS(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const I=v.batch,C=I.keys();let k=K.resolve();return C.forEach(X=>{k=k.next(()=>A.getEntry(_,X)).next(it=>{const tt=v.docVersions.get(X);Xt(tt!==null,48541),it.version.compareTo(tt)<0&&(I.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Pt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function p0(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function PS(r,e){const i=St(r),a=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,I)=>{const C=o.get(I);if(!C)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,I)));let k=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?k=k.withResumeToken(Je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,a)),o=o.insert(I,k),function(it,tt,Dt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=xS?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0}(C,k,A)&&g.push(i.hi.updateTargetData(h,k))});let _=$i(),v=Pt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(zS(h,d,e.documentUpdates).next(A=>{_=A.Ls,v=A.ks})),!a.isEqual(bt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(I=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=o,h))}function zS(r,e,i){let a=Pt(),o=Pt();return i.forEach(h=>a=a.add(h)),e.getEntries(r,a).next(h=>{let d=$i();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):lt(Ld,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:o}})}function BS(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jS(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.hi.getTargetData(a,e).next(h=>h?(o=h,K.resolve(o)):i.hi.allocateTargetId(a).next(d=>(o=new Ds(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function cd(r,e,i){const a=St(r),o=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ja(d))throw d;lt(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function V_(r,e,i){const a=St(r);let o=bt.min(),h=Pt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const I=St(_),C=I.Ms.get(A);return C!==void 0?K.resolve(I.Fs.get(C)):I.hi.getTargetData(v,A)}(a,d,fi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?h:Pt())).next(g=>(kS(a,wb(e),g),{documents:g,qs:h})))}function kS(r,e,i){let a=r.xs.get(e)||bt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.xs.set(e,a)}class x_{constructor(){this.activeTargetIds=Vb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.Fo=new x_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new x_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="ConnectivityMonitor";class U_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){lt(M_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){lt(M_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function hd(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",GS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===hc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,h){const d=hd(),g=this.Go(e,i.toUriEncodedString());lt(Hf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,o,h);const{host:v}=new URL(g),A=vd(v);return this.jo(e,g,_,a,A).then(I=>(lt(Hf,`Received RPC '${e}' ${d}: `,I),I),I=>{throw Us(Hf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",a),I})}Jo(e,i,a,o,h,d){return this.Wo(e,i,a,o,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const a=GS[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class QS extends FS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,o,h){const d=hd();return new Promise((g,_)=>{const v=new yv;v.setWithCredentials(!0),v.listenOnce(_v.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Wu.NO_ERROR:const I=v.getResponseJson();lt(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case Wu.TIMEOUT:lt(en,`RPC '${e}' ${d} timed out`),_(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const C=v.getStatus();if(lt(en,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const X=k?.error;if(X&&X.status&&X.message){const it=function(Dt){const dt=Dt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(dt)>=0?dt:Y.UNKNOWN}(X.status);_(new at(it,X.message))}else _(new at(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(Y.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{lt(en,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);lt(en,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}P_(e,i,a){const o=hd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Tv(),g=Ev(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");lt(en,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);this.T_(I);let C=!1,k=!1;const X=new YS({Ho:tt=>{k?lt(en,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(C||(lt(en,`Opening RPC '${e}' stream ${o} transport.`),I.open(),C=!0),lt(en,`RPC '${e}' stream ${o} sending:`,tt),I.send(tt))},Yo:()=>I.close()}),it=(tt,Dt,dt)=>{tt.listen(Dt,mt=>{try{dt(mt)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return it(I,$l.EventType.OPEN,()=>{k||(lt(en,`RPC '${e}' stream ${o} transport opened.`),X.s_())}),it(I,$l.EventType.CLOSE,()=>{k||(k=!0,lt(en,`RPC '${e}' stream ${o} transport closed`),X.__(),this.I_(I))}),it(I,$l.EventType.ERROR,tt=>{k||(k=!0,Us(en,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),X.__(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),it(I,$l.EventType.MESSAGE,tt=>{var Dt;if(!k){const dt=tt.data[0];Xt(!!dt,16349);const mt=dt,Mt=mt?.error||((Dt=mt[0])===null||Dt===void 0?void 0:Dt.error);if(Mt){lt(en,`RPC '${e}' stream ${o} received error:`,Mt);const At=Mt.status;let zt=function(w){const O=De[w];if(O!==void 0)return i0(O)}(At),V=Mt.message;zt===void 0&&(zt=Y.INTERNAL,V="Unknown error status: "+At+" with message "+Mt.message),k=!0,X.__(new at(zt,V)),I.close()}else lt(en,`RPC '${e}' stream ${o} received:`,dt),X.a_(dt)}}),it(g,vv.STAT_EVENT,tt=>{tt.stat===Jf.PROXY?lt(en,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Jf.NOPROXY&&lt(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.o_()},0),X}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r){return new Zb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class _0{constructor(e,i,a,o,h,d,g,_){this.Fi=e,this.w_=a,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new y0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===i&&this.W_(a,o)},a=>{e(()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return lt(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(lt(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KS extends _0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=tS(this.serializer,e),a=function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?mi(d.readTime):bt.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=ud(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=id(_)?{documents:iS(h,_)}:{query:sS(h,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=a0(h,d.resumeToken);const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=gc(h,d.snapshotVersion.toTimestamp());const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=aS(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.k_(i)}}class XS extends _0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=nS(e.writeResults,e.commitTime),a=mi(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=ud(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>eS(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class ZS extends $S{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,ld(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(Y.UNKNOWN,h.toString())})}Jo(e,i,a,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,ld(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class JS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xi(i),this._a=!1):lt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="RemoteStore";class WS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Dr(this)&&(lt(Sr,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.Ia.add(4),await bo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Nc(v)}(this))})}),this.Aa=new JS(a,o)}}async function Nc(r){if(Dr(r))for(const e of r.da)await e(!0)}async function bo(r){for(const e of r.da)await e(!1)}function v0(r,e){const i=St(r);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),jd(i)?Bd(i):qa(i).x_()&&zd(i,e))}function Pd(r,e){const i=St(r),a=qa(i);i.Ta.delete(e),a.x_()&&E0(i,e),i.Ta.size===0&&(a.x_()?a.B_():Dr(i)&&i.Aa.set("Unknown"))}function zd(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qa(r).H_(e)}function E0(r,e){r.Ra.$e(e),qa(r).Y_(e)}function Bd(r){r.Ra=new Qb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),qa(r).start(),r.Aa.aa()}function jd(r){return Dr(r)&&!qa(r).M_()&&r.Ta.size>0}function Dr(r){return St(r).Ia.size===0}function T0(r){r.Ra=void 0}async function tR(r){r.Aa.set("Online")}async function eR(r){r.Ta.forEach((e,i)=>{zd(r,e)})}async function nR(r,e){T0(r),jd(r)?(r.Aa.la(e),Bd(r)):r.Aa.set("Unknown")}async function iR(r,e,i){if(r.Aa.set("Online"),e instanceof r0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,e)}catch(a){lt(Sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yc(r,a)}else if(e instanceof ic?r.Ra.Ye(e):e instanceof s0?r.Ra.it(e):r.Ra.et(e),!i.isEqual(bt.min()))try{const a=await p0(r.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ta.get(_);if(!A)return;h.Ta.set(_,A.withResumeToken(Je.EMPTY_BYTE_STRING,A.snapshotVersion)),E0(h,_);const I=new Ds(A.target,_,v,A.sequenceNumber);zd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){lt(Sr,"Failed to raise snapshot:",a),await yc(r,a)}}async function yc(r,e,i){if(!ja(e))throw e;r.Ia.add(1),await bo(r),r.Aa.set("Offline"),i||(i=()=>p0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Sr,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Nc(r)})}function A0(r,e){return e().catch(i=>yc(r,i,e))}async function Oc(r){const e=St(r),i=js(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:bd;for(;sR(e);)try{const o=await BS(e.localStore,a);if(o===null){e.Pa.length===0&&i.B_();break}a=o.batchId,rR(e,o)}catch(o){await yc(e,o)}b0(e)&&S0(e)}function sR(r){return Dr(r)&&r.Pa.length<10}function rR(r,e){r.Pa.push(e);const i=js(r);i.x_()&&i.Z_&&i.X_(e.mutations)}function b0(r){return Dr(r)&&!js(r).M_()&&r.Pa.length>0}function S0(r){js(r).start()}async function aR(r){js(r).na()}async function lR(r){const e=js(r);for(const i of r.Pa)e.X_(i.mutations)}async function oR(r,e,i){const a=r.Pa.shift(),o=Nd.from(a,e,i);await A0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Oc(r)}async function uR(r,e){e&&js(r).Z_&&await async function(a,o){if(function(d){return Fb(d)&&d!==Y.ABORTED}(o.code)){const h=a.Pa.shift();js(a).N_(),await A0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Oc(a)}}(r,e),b0(r)&&S0(r)}async function P_(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt(Sr,"RemoteStore received new credentials");const a=Dr(i);i.Ia.add(3),await bo(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Nc(i)}async function cR(r,e){const i=St(r);e?(i.Ia.delete(2),await Nc(i)):e||(i.Ia.add(2),await bo(i),i.Aa.set("Unknown"))}function qa(r){return r.Va||(r.Va=function(i,a,o){const h=St(i);return h.ia(),new KS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{Zo:tR.bind(null,r),e_:eR.bind(null,r),n_:nR.bind(null,r),J_:iR.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),jd(r)?Bd(r):r.Aa.set("Unknown")):(await r.Va.stop(),T0(r))})),r.Va}function js(r){return r.ma||(r.ma=function(i,a,o){const h=St(i);return h.ia(),new XS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:aR.bind(null,r),n_:uR.bind(null,r),ea:lR.bind(null,r),ta:oR.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Oc(r)):(await r.ma.stop(),r.Pa.length>0&&(lt(Sr,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new kd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(r,e){if(Xi("AsyncQueue",`${e}: ${r}`),ja(r))return new at(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Zl(),this.sortedSet=new pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Da;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.fa=new pe(pt.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):vt(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class La{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new La(e,i,Da.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fR{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const o=St(i),h=o.queries;o.queries=B_(),h.forEach((d,g)=>{for(const _ of g.wa)_.onError(a)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function B_(){return new wr(r=>Fv(r),Sc)}async function dR(r,e){const i=St(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(a=2):(h=new hR,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=qd(d,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Hd(i)}async function mR(r,e){const i=St(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function gR(r,e){const i=St(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(a=!0);d.ya=o}}a&&Hd(i)}function pR(r,e,i){const a=St(r),o=a.queries.get(e);if(o)for(const h of o.wa)h.onError(i);a.queries.delete(e)}function Hd(r){r.Da.forEach(e=>{e.next()})}var fd,j_;(j_=fd||(fd={})).Fa="default",j_.Cache="cache";class yR{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new La(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.key=e}}class w0{constructor(e){this.key=e}}class _R{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=Yv(e),this.eu=new Da(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new z_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const C=o.get(A),k=Rc(this.query,I)?I:null,X=!!C&&this.mutatedKeys.has(C.key),it=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let tt=!1;C&&k?C.data.isEqual(k.data)?X!==it&&(a.track({type:3,doc:k}),tt=!0):this.iu(C,k)||(a.track({type:2,doc:k}),tt=!0,(_&&this.Xa(k,_)>0||v&&this.Xa(k,v)<0)&&(g=!0)):!C&&k?(a.track({type:0,doc:k}),tt=!0):C&&!k&&(a.track({type:1,doc:C}),tt=!0,(_||v)&&(g=!0)),tt&&(k?(d=d.add(k),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{eu:d,ru:a,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,I)=>function(k,X){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:tt})}};return it(k)-it(X)}(A.type,I.type)||this.Xa(A.doc,I.doc)),this.su(a),o=o!=null&&o;const g=i&&!o?this.ou():[],_=this.Za.size===0&&this.current&&!o?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new La(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new z_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Pt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new w0(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new R0(a))}),i}uu(e){this.Ha=e.qs,this.Za=Pt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return La.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Gd="SyncEngine";class vR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ER{constructor(e){this.key=e,this.lu=!1}}class TR{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new wr(g=>Fv(g),Sc),this.Tu=new Map,this.Iu=new Set,this.du=new pe(pt.comparator),this.Eu=new Map,this.Au=new xd,this.Ru={},this.Vu=new Map,this.mu=Ua.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function AR(r,e,i=!0){const a=V0(r);let o;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await C0(a,e,i,!0),o}async function bR(r,e){const i=V0(r);await C0(i,e,!0,!1)}async function C0(r,e,i,a){const o=await jS(r.localStore,fi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await SR(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&v0(r.remoteStore,o),g}async function SR(r,e,i,a,o){r.gu=(I,C,k)=>async function(it,tt,Dt,dt){let mt=tt.view.nu(Dt);mt.Ds&&(mt=await V_(it.localStore,tt.query,!1).then(({documents:V})=>tt.view.nu(V,mt)));const Mt=dt&&dt.targetChanges.get(tt.targetId),At=dt&&dt.targetMismatches.get(tt.targetId)!=null,zt=tt.view.applyChanges(mt,it.isPrimaryClient,Mt,At);return q_(it,tt.targetId,zt._u),zt.snapshot}(r,I,C,k);const h=await V_(r.localStore,e,!0),d=new _R(e,h.qs),g=d.nu(h.documents),_=Ao.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);q_(r,i,v._u);const A=new vR(e,i,d);return r.Pu.set(e,A),r.Tu.has(i)?r.Tu.get(i).push(e):r.Tu.set(i,[e]),v.snapshot}async function RR(r,e,i){const a=St(r),o=a.Pu.get(e),h=a.Tu.get(o.targetId);if(h.length>1)return a.Tu.set(o.targetId,h.filter(d=>!Sc(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Pd(a.remoteStore,o.targetId),dd(a,o.targetId)}).catch(Ba)):(dd(a,o.targetId),await cd(a.localStore,o.targetId,!0))}async function wR(r,e){const i=St(r),a=i.Pu.get(e),o=i.Tu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pd(i.remoteStore,a.targetId))}async function CR(r,e,i){const a=MR(r);try{const o=await function(d,g){const _=St(d),v=ue.now(),A=g.reduce((k,X)=>k.add(X.key),Pt());let I,C;return _.persistence.runTransaction("Locally write mutations","readwrite",k=>{let X=$i(),it=Pt();return _.Os.getEntries(k,A).next(tt=>{X=tt,X.forEach((Dt,dt)=>{dt.isValidDocument()||(it=it.add(Dt))})}).next(()=>_.localDocuments.getOverlayedDocuments(k,X)).next(tt=>{I=tt;const Dt=[];for(const dt of g){const mt=jb(dt,I.get(dt.key).overlayedDocument);mt!=null&&Dt.push(new Cr(dt.key,mt,Lv(mt.value.mapValue),di.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,Dt,g)}).next(tt=>{C=tt;const Dt=tt.applyToLocalDocumentSet(I,it);return _.documentOverlayCache.saveOverlays(k,tt.batchId,Dt)})}).then(()=>({batchId:C.batchId,changes:Kv(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new pe(Vt)),v=v.insert(g,_),d.Ru[d.currentUser.toKey()]=v}(a,o.batchId,i),await So(a,o.changes),await Oc(a.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function D0(r,e){const i=St(r);try{const a=await PS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Xt(d.lu,14607):o.removedDocuments.size>0&&(Xt(d.lu,42227),d.lu=!1))}),await So(i,a,e)}catch(a){await Ba(a)}}function k_(r,e,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=St(d);_.onlineState=g;let v=!1;_.queries.forEach((A,I)=>{for(const C of I.wa)C.va(g)&&(v=!0)}),v&&Hd(_)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DR(r,e,i){const a=St(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let d=new pe(pt.comparator);d=d.insert(h,sn.newNoDocument(h,bt.min()));const g=Pt().add(h),_=new Dc(bt.min(),new Map,new pe(Vt),d,g);await D0(a,_),a.du=a.du.remove(h),a.Eu.delete(e),Fd(a)}else await cd(a.localStore,e,!1).then(()=>dd(a,e,i)).catch(Ba)}async function IR(r,e){const i=St(r),a=e.batch.batchId;try{const o=await LS(i.localStore,e);N0(i,a,null),I0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await So(i,o)}catch(o){await Ba(o)}}async function NR(r,e,i){const a=St(r);try{const o=await function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(Xt(I!==null,37113),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);N0(a,e,i),I0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await So(a,o)}catch(o){await Ba(o)}}function I0(r,e){(r.Vu.get(e)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(e)}function N0(r,e,i){const a=St(r);let o=a.Ru[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function dd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),i&&r.hu.pu(a,i);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||O0(r,a)})}function O0(r,e){r.Iu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Pd(r.remoteStore,i),r.du=r.du.remove(e),r.Eu.delete(i),Fd(r))}function q_(r,e,i){for(const a of i)a instanceof R0?(r.Au.addReference(a.key,e),OR(r,a)):a instanceof w0?(lt(Gd,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||O0(r,a.key)):vt(19791,{yu:a})}function OR(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Iu.has(a)||(lt(Gd,"New document in limbo: "+i),r.Iu.add(a),Fd(r))}function Fd(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const i=new pt(le.fromString(e)),a=r.mu.next();r.Eu.set(a,new ER(i)),r.du=r.du.insert(i,a),v0(r.remoteStore,new Ds(fi(Hv(i.path)),a,"TargetPurposeLimboResolution",Tc.ue))}}async function So(r,e,i){const a=St(r),o=[],h=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((g,_)=>{d.push(a.gu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(A=i?.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=Ud.Es(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.hu.J_(o),await async function(_,v){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(v,C=>K.forEach(C.Is,k=>A.persistence.referenceDelegate.addReference(I,C.targetId,k)).next(()=>K.forEach(C.ds,k=>A.persistence.referenceDelegate.removeReference(I,C.targetId,k)))))}catch(I){if(!ja(I))throw I;lt(Ld,"Failed to update sequence numbers: "+I)}for(const I of v){const C=I.targetId;if(!I.fromCache){const k=A.Fs.get(C),X=k.snapshotVersion,it=k.withLastLimboFreeSnapshotVersion(X);A.Fs=A.Fs.insert(C,it)}}}(a.localStore,h))}async function VR(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){lt(Gd,"User change. New user:",e.toKey());const a=await g0(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(_=>{_.reject(new at(Y.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await So(i,a.Bs)}}function xR(r,e){const i=St(r),a=i.Eu.get(e);if(a&&a.lu)return Pt().add(a.key);{let o=Pt();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function V0(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=D0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DR.bind(null,e),e.hu.J_=gR.bind(null,e.eventManager),e.hu.pu=pR.bind(null,e.eventManager),e}function MR(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return US(this.persistence,new VS,e.initialUser,this.serializer)}Du(e){return new m0(Md.Vi,this.serializer)}bu(e){return new qS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class UR extends _c{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Xt(this.persistence.referenceDelegate instanceof pc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yS(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new m0(a=>pc.Vi(a,i),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>k_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=VR.bind(null,this.syncEngine),await cR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fR}()}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),a=function(h){return new QS(h)}(e.databaseInfo);return function(h,d,g,_){return new ZS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new WS(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>k_(this.syncEngine,i,0),function(){return U_.C()?new U_:new HS}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const I=new TR(o,h,d,g,_,v);return A&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);lt(Sr,"RemoteStore shutting down."),h.Ia.add(5),await bo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class PR{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{lt(ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(lt(ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=qd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Ff(r,e){r.asyncQueue.verifyOperationInProgress(),lt(ks,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await g0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Us("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{lt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Us("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function H_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await zR(r);lt(ks,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>P_(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>P_(e.remoteStore,o)),r._onlineComponents=e}async function zR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(ks,"Using user provided OfflineComponentProvider");try{await Ff(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Us("Error using user provided cache. Falling back to memory cache: "+i),await Ff(r,new _c)}}else lt(ks,"Using default OfflineComponentProvider"),await Ff(r,new UR(void 0));return r._offlineComponents}async function x0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(ks,"Using user provided OnlineComponentProvider"),await H_(r,r._uninitializedComponentsProvider._online)):(lt(ks,"Using default OnlineComponentProvider"),await H_(r,new md))),r._onlineComponents}function BR(r){return x0(r).then(e=>e.syncEngine)}async function jR(r){const e=await x0(r),i=e.eventManager;return i.onListen=AR.bind(null,e.syncEngine),i.onUnlisten=RR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wR.bind(null,e.syncEngine),i}function kR(r,e,i={}){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new LR({next:C=>{A.Ou(),d.enqueueAndForget(()=>mR(h,I)),C.fromCache&&_.source==="server"?v.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),I=new yR(g,A,{includeMetadataChanges:!0,ka:!0});return dR(h,I)}(await jR(r),r.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firestore.googleapis.com",F_=!0;class Y_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U0,this.ssl=F_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:F_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gS)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new G1;switch(a.type){case"firstParty":return new K1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=G_.get(i);a&&(lt("ComponentProvider","Removing Datastore"),G_.delete(i),a.terminate())}(this),Promise.resolve()}}function qR(r,e,i,a={}){var o;r=uo(r,Vc);const h=vd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),_=`${e}:${i}`;h&&(yA(`https://${_}`),TA("Firestore",!0)),d.host!==U0&&d.host!==_&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!lc(v,g)&&(r._setSettings(v),a.mockUserToken)){let A,I;if(typeof a.mockUserToken=="string")A=a.mockUserToken,I=nn.MOCK_USER;else{A=_A(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new nn(C)}r._authCredentials=new F1(new bv(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class He{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Eo(i,He._jsonSchema))return new He(e,a||null,new pt(le.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ne("string",He._jsonSchemaVersion),referencePath:Ne("string")};class Ms extends Ir{constructor(e,i,a){super(e,i,Hv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new pt(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function HR(r,e,...i){if(r=Oa(r),Rv("collection","path",e),r instanceof Vc){const a=le.fromString(e,...i);return r_(a),new Ms(r,null,a)}{if(!(r instanceof He||r instanceof Ms))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(e,...i));return r_(a),new Ms(r.firestore,null,a)}}function L0(r,e,...i){if(r=Oa(r),arguments.length===1&&(e=Ad.newId()),Rv("doc","path",e),r instanceof Vc){const a=le.fromString(e,...i);return s_(a),new He(r,null,new pt(a))}{if(!(r instanceof He||r instanceof Ms))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(e,...i));return s_(a),new He(r.firestore,r instanceof Ms?r.converter:null,new pt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new y0(this,"async_queue_retry"),this.oc=()=>{const a=Gf();a&&lt(Q_,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new xs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ja(e))throw e;lt(Q_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Xi("INTERNAL UNHANDLED ERROR: ",X_(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:X_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function X_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xc extends Vc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new K_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function GR(r,e){const i=typeof r=="object"?r:O1(),a=typeof r=="string"?r:hc,o=w1(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=gA("firestore");h&&qR(o,...h)}return o}function P0(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FR(r),r._firestoreClient}function FR(r){var e,i,a;const o=r._freezeSettings(),h=function(g,_,v,A){return new cb(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,M0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new PR(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g?._online.build();return{_offline:g?._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Je.fromBase64String(e))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ne("string",Pn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Ne("string",gi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new pi(e.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Ne("string",pi._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^__.*__$/;class QR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new To(e,this.data,i,this.fieldTransforms)}}function z0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class Kd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(z0(this.Ec)&&YR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class KR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ic(e)}Dc(e,i,a,o=!1){return new Kd({Ec:e,methodName:i,bc:a,path:Ze.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B0(r){const e=r._freezeSettings(),i=Ic(r._databaseId);return new KR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function XR(r,e,i,a,o,h={}){const d=r.Dc(h.merge||h.mergeFields?2:0,e,i,o);q0("Data must be an object, but it was:",d,a);const g=j0(a,d);let _,v;if(h.merge)_=new Fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const C=ZR(e,I,i);if(!d.contains(C))throw new at(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);WR(A,C)||A.push(C)}_=new Fn(A),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new QR(new Ln(g),_,v)}class Xd extends Qd{_toFieldTransform(e){return new Lb(e.path,new po)}isEqual(e){return e instanceof Xd}}function $R(r,e,i,a=!1){return $d(i,r.Dc(a?4:3,e))}function $d(r,e){if(k0(r=Oa(r)))return q0("Unsupported field value:",e,r),j0(r,e);if(r instanceof Qd)return function(a,o){if(!z0(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=$d(g,o.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(a,o){if((a=Oa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ue.fromDate(a);return{timestampValue:gc(o.serializer,h)}}if(a instanceof ue){const h=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gc(o.serializer,h)}}if(a instanceof gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:a0(o.serializer,a._byteString)};if(a instanceof He){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Vd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof pi)return function(d,g){return{mapValue:{fields:{[Mv]:{stringValue:Uv},[fc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return Dd(g.serializer,v)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${Ec(a)}`)}(r,e)}function j0(r,e){const i={};return Dv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(r,(a,o)=>{const h=$d(o,e.Vc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function k0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof gi||r instanceof Pn||r instanceof He||r instanceof Qd||r instanceof pi)}function q0(r,e,i){if(!k0(i)||!wv(i)){const a=Ec(i);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function ZR(r,e,i){if((e=Oa(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return H0(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const JR=new RegExp("[~\\*/\\[\\]]");function H0(r,e,i){if(e.search(JR)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Yd(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new at(Y.INVALID_ARGUMENT,g+r+_)}function WR(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Zd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tw extends G0{data(){return super.data()}}function Zd(r,e){return typeof e=="string"?H0(r,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}class F0 extends Jd{}function nw(r,e,...i){let a=[];e instanceof Jd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof tm).length,g=h.filter(_=>_ instanceof Wd).length;if(d>1||d>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Wd extends F0{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Wd(e,i,a)}_apply(e){const i=this._parse(e);return Y0(e._query,i),new Ir(e.firestore,e.converter,sd(e._query,i))}_parse(e){const i=B0(e.firestore);return function(h,d,g,_,v,A,I){let C;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Z_(I,A);const X=[];for(const it of I)X.push($_(_,h,it));C={arrayValue:{values:X}}}else C=$_(_,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Z_(I,A),C=$R(g,d,I,A==="in"||A==="not-in");return Ie.create(v,A,C)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class tm extends Jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)Y0(d,_),d=sd(d,_)}(e._query,i),new Ir(e.firestore,e.converter,sd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends F0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new em(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new go(h,d)}(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new ka(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function iw(r,e="asc"){const i=e,a=Zd("orderBy",r);return em._create(a,i)}function $_(r,e,i){if(typeof(i=Oa(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(le.fromString(i));if(!pt.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return d_(r,new pt(a))}if(i instanceof He)return d_(r,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ec(i)}.`)}function Z_(r,e){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y0(r,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class sw{convertValue(e,i="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Rr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[fc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Ae(d.doubleValue));return new pi(h)}convertGeoPoint(e){return new gi(Ae(e.latitude),Ae(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Ps(e);return new ue(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=le.fromString(e);Xt(f0(a),9688,{name:e});const o=new fo(a.get(1),a.get(3)),h=new pt(a.popFirst(5));return o.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Zu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends G0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Ne("string",Ia._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class sc extends Ia{data(e={}){return super.data(e)}}class Na{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new sc(this._firestore,this._userDataWriter,a.key,a,new Zu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:aw(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ad.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Ne("string",Na._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class lw extends sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,i)}}function ow(r){r=uo(r,Ir);const e=uo(r.firestore,xc),i=P0(e),a=new lw(e);return ew(r._query),kR(i,r._query).then(o=>new Na(e,a,r,o))}function uw(r){return Q0(uo(r.firestore,xc),[new Id(r._key,di.none())])}function J_(r,e){const i=uo(r.firestore,xc),a=L0(r),o=rw(r.converter,e);return Q0(i,[XR(B0(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,di.exists(!1))]).then(()=>a)}function Q0(r,e){return function(a,o){const h=new xs;return a.asyncQueue.enqueueAndForget(async()=>CR(await BR(a),o,h)),h.promise}(P0(r),e)}function W_(){return new Xd("serverTimestamp")}(function(e,i=!0){(function(o){za=o})(N1),uc(new lo("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new xc(new Y1(a.getProvider("auth-internal")),new X1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Ca(Wy,t_,e),Ca(Wy,t_,"esm2017")})();const cw="/assets/logo-CT_4Xd25.jpg";window.addEventListener("unhandledrejection",function(r){r.preventDefault(),r.reason?console.error("Unhandled Rejection:",r.reason.message||r.reason):console.error("Unhandled Rejection with no reason object.")});const gd={apiKey:"AIzaSyApQl0pE8DBMRFIr6G2Bv89Nu6uk0W5dzE",authDomain:"visiting-card-d4126.firebaseapp.com",projectId:"visiting-card-d4126",storageBucket:"visiting-card-d4126.firebasestorage.app",messagingSenderId:"1094782640799",appId:"1:1094782640799:web:a735d0e2bca54ad6a278aa"},Yf="AIzaSyAlmGHbDwLggS9ob3Qe2ALiYNoV7cU4k5k",rc=gd?.apiKey&&gd?.projectId;let wa,ws;if(rc)try{const r=dv(gd);wa=GR(r),ws=HR(wa,"visiting_cards")}catch(r){console.error("Firebase initialization error:",r.message)}const hw=()=>{const[r,e]=fe.useState("single"),[i,a]=fe.useState([]),[o,h]=fe.useState(!1),[d,g]=fe.useState(null),[_,v]=fe.useState(null),[A,I]=fe.useState(null),[C,k]=fe.useState(null),[X,it]=fe.useState(!1),[tt,Dt]=fe.useState("front"),[dt,mt]=fe.useState([]),[Mt,At]=fe.useState(""),[zt,V]=fe.useState([]),[b,w]=fe.useState(!1),[O,x]=fe.useState(null),[U,R]=fe.useState(!1),de=fe.useRef(null),Qt=fe.useRef(null),H=fe.useRef(null),nt=fe.useRef(null);fe.useEffect(()=>{const J=rt=>{rt.preventDefault(),x(rt),R(!0)};return window.addEventListener("beforeinstallprompt",J),()=>{window.removeEventListener("beforeinstallprompt",J)}},[]),fe.useEffect(()=>{nt.current&&(nt.current.scrollTop=nt.current.scrollHeight)},[zt]);const ct=fe.useCallback(async()=>{if(ws){h(!0);try{const J=nw(ws,iw("createdAt","desc")),ot=(await ow(J)).docs.map(It=>{const Nt=It.data();return{id:It.id,name:Nt.name||"",designation:Nt.designation||"",company:Nt.company||"",phoneNumbers:Nt.phoneNumbers||[],emails:Nt.emails||[],websites:Nt.websites||[],address:Nt.address||"",imageBase64:Nt.imageBase64||""}});a(ot)}catch(J){const rt=J;console.error("Failed to load contacts from Firestore:",rt.message),rt.message.includes("Could not reach Cloud Firestore backend")?g("Could not connect to Firestore. Please check your internet connection and ensure this app's domain is added to your Firebase project's authorized domains."):rt.message.includes("Missing or insufficient permissions")?g("Firestore permissions error. Please check your project's Firestore security rules."):g("Could not load saved contacts. An unknown error occurred.")}h(!1)}},[]);fe.useEffect(()=>{rc&&ct()},[ct]);const Gt=async()=>{if(O){O.prompt();const{outcome:J}=await O.userChoice;J==="accepted"&&console.log("User accepted the install prompt"),x(null),R(!1)}},D=()=>{v(null),I(null),k(null),mt([]),g(null),h(!1)},$=J=>{const rt=J.target.files;if(!(!rt||rt.length===0)){if(r==="bulk"){D();const ot=Array.from(rt).map(It=>({id:`${It.name}-${Date.now()}`,file:It,base64:"",status:"pending"}));mt(ot),be(ot)}else{const ot=rt[0],It=new FileReader;It.onloadend=()=>{const Nt=It.result.split(",")[1];_?I(Nt):v(Nt)},It.readAsDataURL(ot)}de.current&&(de.current.value="")}},st=async J=>{Dt(J);try{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const rt=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});it(!0),H.current=rt,Qt.current&&(Qt.current.srcObject=rt)}else g("Camera not supported on this device/browser.")}catch(rt){console.error("Error accessing camera: ",rt.message),g("Could not access the camera. Please ensure permissions are granted.")}},W=()=>{H.current&&H.current.getTracks().forEach(J=>J.stop()),it(!1),H.current=null},gt=()=>{if(Qt.current){const J=document.createElement("canvas");J.width=Qt.current.videoWidth,J.height=Qt.current.videoHeight;const rt=J.getContext("2d");if(rt){rt.drawImage(Qt.current,0,0,J.width,J.height);const ot=J.toDataURL("image/jpeg").split(",")[1];tt==="front"?v(ot):I(ot)}W()}},wt=async(J,rt)=>{const It=new jy(Yf).getGenerativeModel({model:"gemini-1.5-flash"}),Nt=[{inlineData:{mimeType:"image/jpeg",data:J}}];let se='Analyze the business card image(s) and extract the contact details. Return a single JSON object with the following keys: "name", "designation", "company", "phoneNumbers", "emails", "websites", "address". If any information is not found, return an empty string for string fields or an empty array for array fields.';rt&&Nt.push({inlineData:{mimeType:"image/jpeg",data:rt}}),Nt.push({text:se});const ft=(await It.generateContent({contents:[{role:"user",parts:Nt}],generationConfig:{responseMimeType:"application/json"}})).response.text();return JSON.parse(ft)},Et=async()=>{if(_){h(!0),g(null),k(null);try{const J=await wt(_,A??void 0);k(J)}catch(J){const rt=J;console.error("Error processing card:",rt.message),g(`Failed to process image. ${rt.message||"An unknown error occurred."}`)}finally{h(!1)}}},be=async J=>{h(!0);let rt=[...J];for(let ot=0;ot<J.length;ot++){const It=J[ot],Nt=await new Promise((se,oe)=>{const Rt=new FileReader;Rt.onloadend=()=>se(Rt.result.split(",")[1]),Rt.onerror=oe,Rt.readAsDataURL(It.file)});rt=rt.map(se=>se.id===It.id?{...se,base64:Nt,status:"processing"}:se),mt(rt);try{const se=await wt(Nt);rt=rt.map(oe=>oe.id===It.id?{...oe,status:"success",extractedData:se}:oe),mt(rt)}catch(se){const oe=se;console.error(`Error processing ${It.file.name}:`,oe.message),rt=rt.map(Rt=>Rt.id===It.id?{...Rt,status:"error",error:oe.message||"Failed to process"}:Rt),mt(rt)}}h(!1)},$t=(J,rt)=>{C&&k({...C,[J]:rt})},An=(J,rt,ot)=>{if(C){const Nt=[...C[J]||[]];Nt[rt]=ot,$t(J,Nt)}},Qn=async()=>{if(!wa||!ws){g("Firebase not configured. Cannot save contact.");return}if(C&&_){h(!0);const J={name:C.name||"",designation:C.designation||"",company:C.company||"",phoneNumbers:C.phoneNumbers||[],emails:C.emails||[],websites:C.websites||[],address:C.address||"",imageBase64:_,createdAt:W_()};try{await J_(ws,J),D(),ct()}catch(rt){console.error("Error saving to firestore:",rt.message),g("Failed to save contact."),h(!1)}}},zn=async()=>{if(!wa||!ws){g("Firebase not configured. Cannot save contacts.");return}const J=dt.filter(ot=>ot.status==="success"&&ot.extractedData);if(J.length===0)return;h(!0);let rt=0;for(const ot of J)if(ot.extractedData)try{const It={name:ot.extractedData.name||"",designation:ot.extractedData.designation||"",company:ot.extractedData.company||"",phoneNumbers:ot.extractedData.phoneNumbers||[],emails:ot.extractedData.emails||[],websites:ot.extractedData.websites||[],address:ot.extractedData.address||"",imageBase64:ot.base64,createdAt:W_()};await J_(ws,It),rt++}catch(It){const Nt=It;console.error(`Failed to save ${ot.file.name}:`,Nt.message)}alert(`${rt} of ${J.length} contacts saved successfully.`),D(),ct()},_i=async J=>{if(!wa||!ws)return;if(window.confirm("Are you sure you want to delete this contact?"))try{await uw(L0(wa,"visiting_cards",J)),ct()}catch(ot){console.error("Error deleting document: ",ot.message),g("Failed to delete contact.")}},vi=J=>{e("single"),D(),k(J),v(J.imageBase64),alert("Editing mode: After saving, this will create a new contact. You may want to delete the old one.")},Ei=J=>{const{name:rt,designation:ot,company:It,phoneNumbers:Nt,emails:se,websites:oe,address:Rt}=J;let ft=`BEGIN:VCARD
VERSION:3.0
`;if(rt){const bn=rt.split(" "),Ti=bn.pop()||"",Ai=bn.join(" ");ft+=`FN:${rt}
`,ft+=`N:${Ti};${Ai};;;
`}It&&(ft+=`ORG:${It}
`),ot&&(ft+=`TITLE:${ot}
`),Nt&&Nt.forEach(bn=>{ft+=`TEL;TYPE=WORK,VOICE:${bn}
`}),se&&se.forEach(bn=>{ft+=`EMAIL:${bn}
`}),oe&&oe.forEach(bn=>{ft+=`URL:${bn}
`}),Rt&&(ft+=`ADR;TYPE=WORK:;;${Rt.replace(/\n/g,"\\n")};;;;
`),ft+="END:VCARD";const re=new Blob([ft],{type:"text/vcard"}),me=URL.createObjectURL(re),Kn=document.createElement("a");Kn.href=me,Kn.download=(rt?.replace(/\s/g,"_")||"contact")+".vcf",document.body.appendChild(Kn),Kn.click(),document.body.removeChild(Kn),URL.revokeObjectURL(me)},Zi=J=>{const rt=`Name,Designation,Company,Phone Numbers,Emails,Websites,Address
`,ot=ft=>ft==null?'""':`"${String(ft).replace(/"/g,'""').replace(/\n/g," ")}"`,It=J.map(ft=>[ot(ft.name),ot(ft.designation),ot(ft.company),ot((ft.phoneNumbers||[]).join(", ")),ot((ft.emails||[]).join(", ")),ot((ft.websites||[]).join(", ")),ot(ft.address)].join(",")),Nt=rt+It.join(`
`),se=new Blob([Nt],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(se),Rt=document.createElement("a");Rt.href=oe,Rt.download=J.length>1?"contacts_export.csv":(J[0].name?.replace(/\s/g,"_")||"contact")+".csv",document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),URL.revokeObjectURL(oe)},Nr=async J=>{if(J.preventDefault(),!Mt.trim()||b||!Yf)return;const rt={role:"user",text:Mt.trim()};V(ot=>[...ot,rt]),At(""),w(!0),V(ot=>[...ot,{role:"model",text:""}]);try{const It=new jy(Yf).getGenerativeModel({model:"gemini-1.5-flash"}),se=`You are an AI assistant for a business card app. Your task is to answer questions about the user's saved contacts. You will be given a list of contacts in JSON format. Base your answers STRICTLY on the information provided in the JSON data. If the information is not present in the contacts, state that you cannot find the information. Do not make up any details. Keep your answers concise and helpful. Here is the contact data: ${JSON.stringify(i.map(re=>({name:re.name,designation:re.designation,company:re.company,phoneNumbers:re.phoneNumbers,emails:re.emails,websites:re.websites,address:re.address})))}

User question: ${rt.text}`,ft=(await It.generateContent(se)).response.text();V(re=>{const me=[...re];return me[me.length-1]={role:"model",text:ft},me})}catch(ot){const It=ot;console.error("Chat command failed:",It.message);const Nt=`Sorry, I encountered an error: ${It.message}`;V(se=>{const oe=[...se];return oe[oe.length-1]={role:"model",text:Nt},oe})}finally{w(!1)}};if(!rc)return Z.jsx("div",{className:"min-h-screen bg-gray-900 text-white font-sans flex items-center justify-center p-4",children:Z.jsxs("div",{className:"bg-red-700 p-8 rounded-2xl shadow-2xl text-center max-w-md w-full",children:[Z.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Configuration Error"}),!rc&&Z.jsxs("p",{className:"mb-2",children:["Your Firebase configuration is incomplete. Please check your ",Z.jsx("code",{children:".env"})," file."]}),!1,Z.jsx("p",{className:"mt-6 text-red-200",children:"The application cannot start without valid configurations."})]})});const Ge=(J,rt)=>Z.jsxs("div",{className:"form-group",children:[Z.jsx("label",{htmlFor:rt,className:"block text-sm font-medium text-gray-700 mb-1",children:J}),Z.jsx("input",{type:"text",id:rt,value:C?.[rt]||"",onChange:ot=>$t(rt,ot.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 transition"})]}),qs=(J,rt)=>Z.jsxs("div",{className:"form-group md:col-span-2",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:J}),(C?.[rt]||[]).map((ot,It)=>Z.jsx("input",{type:"text",value:ot,onChange:Nt=>An(rt,It,Nt.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm mb-2 focus:ring-red-500 focus:border-red-500 transition"},It))]});return Z.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans",children:[Z.jsx("header",{className:"bg-white text-gray-800 py-4 flex items-center justify-between px-6 shadow-md border-b-2 border-gray-100 sticky top-0 z-40",children:Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("img",{src:cw,alt:"Company Logo",className:"h-12 w-12 rounded-full shadow-lg"}),Z.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"AI Business Card Scanner"})]})}),U&&Z.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-800 text-white px-4 py-3 flex flex-col sm:flex-row justify-between items-center shadow-lg text-center sm:text-left",children:[Z.jsx("p",{className:"font-semibold mb-2 sm:mb-0",children:"📲 Install this app on your device for easy access!"}),Z.jsx("button",{onClick:Gt,className:"bg-white text-red-700 font-bold px-4 py-2 rounded-lg hover:bg-red-100 transition-all shadow-md shrink-0",children:"Install App"})]}),Z.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[Z.jsxs("div",{className:"card input-section bg-white p-6 rounded-xl shadow-lg mb-8 border border-gray-200",children:[Z.jsxs("div",{className:"mode-toggle flex border-b mb-6",children:[Z.jsx("button",{className:`py-2 px-4 text-lg ${r==="single"?"border-b-2 border-red-600 font-semibold text-red-600":"text-gray-500"}`,onClick:()=>{D(),e("single")},children:"Single Card"}),Z.jsx("button",{className:`py-2 px-4 text-lg ${r==="bulk"?"border-b-2 border-red-600 font-semibold text-red-600":"text-gray-500"}`,onClick:()=>{D(),e("bulk")},children:"Bulk Upload"})]}),Z.jsx("input",{type:"file",ref:de,onChange:$,accept:"image/*",multiple:r==="bulk",style:{display:"none"}}),r==="single"&&Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"actions flex flex-col sm:flex-row gap-4",children:[Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-all shadow-md w-full sm:w-auto disabled:bg-gray-400",onClick:()=>de.current?.click(),disabled:o||!!A,children:_?"Upload Back":"Upload Front"}),Z.jsx("button",{className:"btn btn-secondary bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-all shadow-md w-full sm:w-auto disabled:bg-gray-400",onClick:()=>st(_?"back":"front"),disabled:o||!!A,children:_?"Camera (Back)":"Camera (Front)"})]}),(_||A)&&Z.jsxs("div",{className:"image-previews grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6",children:[_&&Z.jsxs("div",{className:"preview-container",children:[Z.jsx("img",{src:`data:image/jpeg;base64,${_}`,alt:"Front Preview",className:"w-full rounded-lg shadow-xl"}),Z.jsx("p",{className:"text-center mt-2 font-semibold",children:"Front"})]}),A&&Z.jsxs("div",{className:"preview-container",children:[Z.jsx("img",{src:`data:image/jpeg;base64,${A}`,alt:"Back Preview",className:"w-full rounded-lg shadow-xl"}),Z.jsx("p",{className:"text-center mt-2 font-semibold",children:"Back"})]})]}),Z.jsx("div",{className:"result-actions mt-6",children:_&&Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 transition-all shadow-xl text-lg w-full sm:w-auto",onClick:Et,disabled:o,children:"Process Card"})})]}),r==="bulk"&&Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"actions",children:Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 transition-all shadow-xl text-lg w-full sm:w-auto",onClick:()=>de.current?.click(),disabled:o,children:"Upload Multiple Cards"})}),dt.length>0&&Z.jsxs("div",{className:"bulk-list mt-6",children:[Z.jsx("ul",{className:"space-y-3",children:dt.map(J=>Z.jsxs("li",{className:"bulk-item flex justify-between items-center p-3 bg-gray-100 rounded-lg border",children:[Z.jsxs("div",{className:"info",children:[Z.jsx("h3",{className:"font-semibold text-gray-800",children:J.file.name}),J.status==="error"&&Z.jsx("p",{className:"text-red-600 text-sm",children:J.error})]}),Z.jsx("span",{className:`status status-${J.status} px-3 py-1 rounded-full text-sm font-semibold ${J.status==="success"?"bg-green-100 text-green-800":J.status==="error"?"bg-red-100 text-red-800":J.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:J.status})]},J.id))}),Z.jsxs("div",{className:"bulk-actions flex flex-col sm:flex-row gap-4 mt-6",children:[Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-all shadow-md disabled:bg-gray-400",onClick:zn,disabled:o||dt.every(J=>J.status!=="success"),children:"Save All Successful"}),Z.jsx("button",{className:"btn btn-secondary bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-all shadow-md disabled:bg-gray-400",onClick:()=>Zi(dt.filter(J=>J.status==="success").map(J=>J.extractedData||{})),disabled:o||dt.every(J=>J.status!=="success"),children:"Export All to CSV"})]})]})]}),X&&Z.jsxs("div",{className:"video-container fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 p-4",children:[Z.jsx("video",{ref:Qt,autoPlay:!0,playsInline:!0,className:"w-full max-w-2xl rounded-lg"}),Z.jsxs("div",{className:"controls mt-6 flex gap-4",children:[Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 transition-all shadow-lg text-lg",onClick:gt,children:"Capture"}),Z.jsx("button",{className:"btn btn-secondary bg-gray-600 text-white py-2 px-6 rounded-lg hover:bg-gray-700 transition-all shadow-lg text-lg",onClick:W,children:"Cancel"})]})]}),d&&Z.jsx("div",{className:"error-message bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mt-6",role:"alert",children:d}),o&&r!=="bulk"&&Z.jsxs("div",{className:"loading-overlay fixed inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center z-50",children:[Z.jsx("div",{className:"spinner border-4 border-t-4 border-t-red-600 border-gray-200 rounded-full w-16 h-16 animate-spin"}),Z.jsx("p",{className:"ml-4 text-gray-700 text-lg font-semibold mt-4",children:"Scanning your card..."})]})]}),C&&Z.jsxs("div",{className:"card results-section bg-white p-6 rounded-xl shadow-lg mb-8 border border-gray-200",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Verify & Save"}),Z.jsxs("div",{className:"form-grid grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[Ge("Name","name"),Ge("Designation","designation"),Ge("Company","company"),Ge("Address","address"),qs("Phone Numbers","phoneNumbers"),qs("Emails","emails"),qs("Websites","websites")]}),Z.jsxs("div",{className:"result-actions flex flex-col sm:flex-row gap-4 mt-8",children:[Z.jsx("button",{className:"btn btn-primary bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-all shadow-md",onClick:Qn,disabled:o,children:"Save to Firebase"}),Z.jsx("button",{className:"btn btn-secondary bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-all shadow-md",onClick:()=>Ei(C),children:"Download .vcf"}),Z.jsx("button",{className:"btn btn-secondary bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-all shadow-md",onClick:()=>Zi([C]),children:"Download .csv"}),Z.jsx("button",{className:"btn btn-secondary border border-red-500 text-red-500 py-2 px-4 rounded-lg hover:bg-red-500 hover:text-white transition-all shadow-md",onClick:D,children:"Cancel"})]})]}),i.length>0&&!C&&dt.length===0&&Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"card command-center bg-white p-6 rounded-xl shadow-lg mb-8 border border-gray-200",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"AI Command Center"}),Z.jsx("div",{className:"chat-display h-80 overflow-y-auto border rounded-lg p-4 mb-4 bg-gray-50",ref:nt,children:zt.map((J,rt)=>Z.jsx("div",{className:`chat-message mb-4 flex ${J.role==="user"?"justify-end":"justify-start"}`,children:Z.jsx("p",{className:`max-w-md p-3 rounded-xl ${J.role==="user"?"bg-red-600 text-white":"bg-gray-200"}`,children:J.role==="model"&&J.text===""&&b?Z.jsxs("div",{className:"typing-indicator flex gap-1 items-center",children:[Z.jsx("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),Z.jsx("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),Z.jsx("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce"})]}):J.text})},rt))}),Z.jsxs("form",{onSubmit:Nr,className:"command-form flex gap-2",children:[Z.jsx("input",{type:"text",value:Mt,onChange:J=>At(J.target.value),placeholder:"e.g., 'Who works at Google?'",disabled:b,"aria-label":"Ask the AI assistant a question about your contacts",className:"flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-red-500 focus:border-red-500 transition"}),Z.jsx("button",{type:"submit",disabled:b||!Mt.trim(),"aria-label":"Send command",className:"bg-red-600 text-white p-3 rounded-lg disabled:bg-red-300 hover:bg-red-700 transition-all shadow-md",children:Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:Z.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),Z.jsxs("div",{className:"card contact-list bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Saved Contacts"}),Z.jsx("ul",{className:"space-y-3",children:i.map(J=>Z.jsxs("li",{className:"contact-item flex justify-between items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 border transition-all",children:[Z.jsxs("div",{className:"info",children:[Z.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:J.name||"No Name"}),Z.jsx("p",{className:"text-sm text-gray-600",children:J.company||"No Company"})]}),Z.jsxs("div",{className:"actions flex gap-3",children:[Z.jsx("button",{onClick:()=>vi(J),title:"Edit",className:"text-gray-500 hover:text-gray-800 transition-colors",children:Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:Z.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),Z.jsx("button",{onClick:()=>_i(J.id),title:"Delete",className:"text-red-500 hover:text-red-700 transition-colors",children:Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:Z.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})]},J.id))})]})]})]}),Z.jsxs("footer",{className:"bg-gray-800 text-white text-center py-4 mt-12 text-sm",children:["© ",new Date().getFullYear()," StarShield Technologies Pvt Ltd. All rights reserved."]})]})};IT.createRoot(document.getElementById("root")).render(Z.jsx(TT.StrictMode,{children:Z.jsx(hw,{})}));
